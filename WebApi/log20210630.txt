2021-06-30 19:33:18.276 +04:30 [INF] Starting up
2021-06-30 19:33:21.377 +04:30 [INF] User profile is available. Using 'C:\Users\kavan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-30 19:33:22.487 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 19:33:22.914 +04:30 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 19:33:22.956 +04:30 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 19:33:22.963 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 19:33:22.968 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 19:33:23.002 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-06-30 19:33:23.029 +04:30 [INF] No migrations were applied. The database is already up to date.
2021-06-30 19:33:23.499 +04:30 [INF] Now listening on: https://localhost:5001
2021-06-30 19:33:23.501 +04:30 [INF] Now listening on: http://localhost:5000
2021-06-30 19:33:23.504 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2021-06-30 19:33:23.506 +04:30 [INF] Hosting environment: Development
2021-06-30 19:33:23.507 +04:30 [INF] Content root path: C:\Users\kavan\source\repos\Raimun\WebApi
2021-06-30 19:33:24.897 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-06-30 19:33:25.141 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 245.9456ms
2021-06-30 19:33:25.682 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-06-30 19:33:26.046 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 363.5595ms
2021-06-30 19:34:03.021 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/Token?username=09187708317&password=123456 - 0
2021-06-30 19:34:03.074 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 19:34:03.120 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 19:34:03.381 +04:30 [INF] Executing action method WebApi.Controllers.UserController.Token (WebApi) - Validation state: "Valid"
2021-06-30 19:34:03.405 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 19:34:03.894 +04:30 [INF] Executed DbCommand (35ms) [Parameters=[@__tokenRequest_username_0='?' (Size = 4000), @__tokenRequest_password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Stamp], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[UserName] = @__tokenRequest_username_0) AND ([u].[Password] = @__tokenRequest_password_1)
2021-06-30 19:34:07.520 +04:30 [ERR] متد Token فراخوانی شد توسط
2021-06-30 19:34:07.629 +04:30 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [Stamp] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2021-06-30 19:34:08.035 +04:30 [INF] Executed action method WebApi.Controllers.UserController.Token (WebApi), returned result Microsoft.AspNetCore.Mvc.JsonResult in 4645.4487ms.
2021-06-30 19:34:08.056 +04:30 [INF] Executing JsonResult, writing value of type 'WebApi.Configuration.JWT.AccessToken'.
2021-06-30 19:34:08.195 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 5063.7739ms
2021-06-30 19:34:08.240 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 19:34:08.259 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/Token?username=09187708317&password=123456 - 0 - 200 - application/json;+charset=utf-8 5238.8627ms
2021-06-30 20:25:21.015 +04:30 [INF] Starting up
2021-06-30 20:25:27.081 +04:30 [INF] User profile is available. Using 'C:\Users\kavan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-30 20:25:29.162 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 20:25:30.312 +04:30 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 20:25:30.353 +04:30 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 20:25:30.363 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 20:25:30.368 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 20:25:30.417 +04:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-06-30 20:25:30.446 +04:30 [INF] No migrations were applied. The database is already up to date.
2021-06-30 20:25:31.286 +04:30 [INF] Now listening on: https://localhost:5001
2021-06-30 20:25:31.299 +04:30 [INF] Now listening on: http://localhost:5000
2021-06-30 20:25:31.303 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2021-06-30 20:25:31.304 +04:30 [INF] Hosting environment: Development
2021-06-30 20:25:31.306 +04:30 [INF] Content root path: C:\Users\kavan\source\repos\Raimun\WebApi
2021-06-30 20:25:33.243 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-06-30 20:25:33.423 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 184.3482ms
2021-06-30 20:25:33.832 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-06-30 20:25:34.048 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 216.2910ms
2021-06-30 20:25:38.654 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/Get - -
2021-06-30 20:25:38.721 +04:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-06-30 20:25:47.316 +04:30 [ERR] An unhandled exception has occurred while executing the request.
WebApi.Exceptions.AppException: You are unauthorized to access this resource.
   at WebApi.Configuration.ServiceCollectionExtensions.<>c.<AddJwtAuthentication>b__1_4(JwtBearerChallengeContext context) in C:\Users\kavan\source\repos\Raimun\WebApi\Configuration\ServiceCollectionExtensions.cs:line 112
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerEvents.Challenge(JwtBearerChallengeContext context)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.ChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-06-30 20:25:47.479 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/Get - - - 500 - text/plain 8825.1199ms
2021-06-30 20:26:19.887 +04:30 [INF] Starting up
2021-06-30 20:26:22.330 +04:30 [INF] User profile is available. Using 'C:\Users\kavan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-30 20:26:23.412 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 20:26:24.107 +04:30 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 20:26:24.151 +04:30 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 20:26:24.160 +04:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 20:26:24.164 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 20:26:24.215 +04:30 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-06-30 20:26:24.239 +04:30 [INF] No migrations were applied. The database is already up to date.
2021-06-30 20:26:25.206 +04:30 [INF] Now listening on: https://localhost:5001
2021-06-30 20:26:25.208 +04:30 [INF] Now listening on: http://localhost:5000
2021-06-30 20:26:25.210 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2021-06-30 20:26:25.212 +04:30 [INF] Hosting environment: Development
2021-06-30 20:26:25.214 +04:30 [INF] Content root path: C:\Users\kavan\source\repos\Raimun\WebApi
2021-06-30 20:26:26.454 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-06-30 20:26:26.640 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 188.0132ms
2021-06-30 20:26:27.049 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-06-30 20:26:27.263 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 214.4287ms
2021-06-30 20:26:32.277 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/Get - -
2021-06-30 20:26:32.329 +04:30 [INF] Executing endpoint 'WebApi.Controllers.weatherController.Get (WebApi)'
2021-06-30 20:26:32.375 +04:30 [INF] Route matched with {action = "Get", controller = "weather"}. Executing controller action with signature System.Threading.Tasks.Task`1[WebApi.Configuration.ApiResult`1[WebApi.ViewModels.Location]] Get() on controller WebApi.Controllers.weatherController (WebApi).
2021-06-30 20:26:32.496 +04:30 [INF] Executing action method WebApi.Controllers.weatherController.Get (WebApi) - Validation state: "Valid"
2021-06-30 20:26:44.230 +04:30 [INF] Start processing HTTP request GET "http://api.ipstack.com/::1?access_key=1df549c24dbad204b5bd83c7eca4d188&format=1"
2021-06-30 20:26:44.234 +04:30 [INF] Sending HTTP request GET "http://api.ipstack.com/::1?access_key=1df549c24dbad204b5bd83c7eca4d188&format=1"
2021-06-30 20:26:45.113 +04:30 [INF] Received HTTP response headers after 874.7456ms - 200
2021-06-30 20:26:45.117 +04:30 [INF] End processing HTTP request after 891.0963ms - 200
2021-06-30 20:27:19.399 +04:30 [INF] Starting up
2021-06-30 20:27:22.248 +04:30 [INF] User profile is available. Using 'C:\Users\kavan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-30 20:27:23.304 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 20:27:23.877 +04:30 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 20:27:23.918 +04:30 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 20:27:23.925 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 20:27:23.931 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 20:27:23.964 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-06-30 20:27:23.987 +04:30 [INF] No migrations were applied. The database is already up to date.
2021-06-30 20:27:24.370 +04:30 [INF] Now listening on: https://localhost:5001
2021-06-30 20:27:24.372 +04:30 [INF] Now listening on: http://localhost:5000
2021-06-30 20:27:24.374 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2021-06-30 20:27:24.375 +04:30 [INF] Hosting environment: Development
2021-06-30 20:27:24.377 +04:30 [INF] Content root path: C:\Users\kavan\source\repos\Raimun\WebApi
2021-06-30 20:27:25.504 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-06-30 20:27:25.703 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 201.2359ms
2021-06-30 20:27:26.171 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-06-30 20:27:26.513 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 342.0049ms
2021-06-30 20:27:41.124 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/Get - -
2021-06-30 20:27:41.262 +04:30 [INF] Executing endpoint 'WebApi.Controllers.weatherController.Get (WebApi)'
2021-06-30 20:27:41.383 +04:30 [INF] Route matched with {action = "Get", controller = "weather"}. Executing controller action with signature System.Threading.Tasks.Task`1[WebApi.Configuration.ApiResult`1[WebApi.ViewModels.Location]] Get() on controller WebApi.Controllers.weatherController (WebApi).
2021-06-30 20:27:41.531 +04:30 [INF] Executing action method WebApi.Controllers.weatherController.Get (WebApi) - Validation state: "Valid"
2021-06-30 20:27:51.209 +04:30 [INF] Start processing HTTP request GET "http://api.ipstack.com/::1?access_key=1df549c24dbad204b5bd83c7eca4d188&format=1"
2021-06-30 20:27:51.214 +04:30 [INF] Sending HTTP request GET "http://api.ipstack.com/::1?access_key=1df549c24dbad204b5bd83c7eca4d188&format=1"
2021-06-30 20:27:52.657 +04:30 [INF] Received HTTP response headers after 1439.6551ms - 200
2021-06-30 20:27:52.662 +04:30 [INF] End processing HTTP request after 1456.4355ms - 200
2021-06-30 20:28:17.789 +04:30 [INF] Executed action method WebApi.Controllers.weatherController.Get (WebApi), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 36248.0436ms.
2021-06-30 20:28:17.803 +04:30 [INF] Executing ObjectResult, writing value of type 'WebApi.Configuration.ApiResult`1[[WebApi.ViewModels.Location, WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-06-30 20:28:18.212 +04:30 [INF] Executed action WebApi.Controllers.weatherController.Get (WebApi) in 36816.7457ms
2021-06-30 20:28:18.215 +04:30 [INF] Executed endpoint 'WebApi.Controllers.weatherController.Get (WebApi)'
2021-06-30 20:28:18.225 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/Get - - - 200 134 application/json;+charset=utf-8 37101.6675ms
2021-06-30 20:31:29.525 +04:30 [INF] Starting up
2021-06-30 20:31:32.208 +04:30 [INF] User profile is available. Using 'C:\Users\kavan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-30 20:31:33.746 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 20:31:34.178 +04:30 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 20:31:34.284 +04:30 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 20:31:34.332 +04:30 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 20:31:34.338 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 20:31:34.378 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-06-30 20:31:34.404 +04:30 [INF] No migrations were applied. The database is already up to date.
2021-06-30 20:31:34.767 +04:30 [INF] Now listening on: https://localhost:5001
2021-06-30 20:31:34.769 +04:30 [INF] Now listening on: http://localhost:5000
2021-06-30 20:31:34.777 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2021-06-30 20:31:34.782 +04:30 [INF] Hosting environment: Development
2021-06-30 20:31:34.784 +04:30 [INF] Content root path: C:\Users\kavan\source\repos\Raimun\WebApi
2021-06-30 20:31:36.319 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-06-30 20:31:36.479 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 162.7438ms
2021-06-30 20:31:36.851 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-06-30 20:31:37.060 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 208.4865ms
2021-06-30 20:31:44.467 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/Get - -
2021-06-30 20:31:44.531 +04:30 [INF] Executing endpoint 'WebApi.Controllers.weatherController.Get (WebApi)'
2021-06-30 20:31:44.564 +04:30 [INF] Route matched with {action = "Get", controller = "weather"}. Executing controller action with signature System.Threading.Tasks.Task`1[WebApi.Configuration.ApiResult`1[WebApi.ViewModels.Location]] Get() on controller WebApi.Controllers.weatherController (WebApi).
2021-06-30 20:31:44.692 +04:30 [INF] Executing action method WebApi.Controllers.weatherController.Get (WebApi) - Validation state: "Valid"
2021-06-30 20:31:55.396 +04:30 [INF] Start processing HTTP request GET "http://api.ipstack.com/::1?access_key=1df549c24dbad204b5bd83c7eca4d188&format=1"
2021-06-30 20:31:55.400 +04:30 [INF] Sending HTTP request GET "http://api.ipstack.com/::1?access_key=1df549c24dbad204b5bd83c7eca4d188&format=1"
2021-06-30 20:31:56.211 +04:30 [INF] Received HTTP response headers after 807.4223ms - 200
2021-06-30 20:31:56.214 +04:30 [INF] End processing HTTP request after 820.9707ms - 200
2021-06-30 20:35:33.858 +04:30 [INF] Starting up
2021-06-30 20:35:36.784 +04:30 [INF] User profile is available. Using 'C:\Users\kavan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-30 20:35:38.057 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 20:35:38.493 +04:30 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 20:35:38.588 +04:30 [INF] Executed DbCommand (70ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 20:35:38.596 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 20:35:38.599 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 20:35:38.679 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-06-30 20:35:38.712 +04:30 [INF] No migrations were applied. The database is already up to date.
2021-06-30 20:35:39.157 +04:30 [INF] Now listening on: https://localhost:5001
2021-06-30 20:35:39.159 +04:30 [INF] Now listening on: http://localhost:5000
2021-06-30 20:35:39.161 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2021-06-30 20:35:39.163 +04:30 [INF] Hosting environment: Development
2021-06-30 20:35:39.164 +04:30 [INF] Content root path: C:\Users\kavan\source\repos\Raimun\WebApi
2021-06-30 20:35:40.692 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-06-30 20:35:40.880 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 190.9706ms
2021-06-30 20:35:41.330 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-06-30 20:35:41.570 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 239.8860ms
2021-06-30 20:35:50.208 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/Get - -
2021-06-30 20:35:50.282 +04:30 [INF] Executing endpoint 'WebApi.Controllers.weatherController.Get (WebApi)'
2021-06-30 20:35:50.323 +04:30 [INF] Route matched with {action = "Get", controller = "weather"}. Executing controller action with signature System.Threading.Tasks.Task`1[WebApi.Configuration.ApiResult`1[WebApi.ViewModels.Location]] Get() on controller WebApi.Controllers.weatherController (WebApi).
2021-06-30 20:35:50.576 +04:30 [INF] Executing action method WebApi.Controllers.weatherController.Get (WebApi) - Validation state: "Valid"
2021-06-30 20:37:13.188 +04:30 [INF] Starting up
2021-06-30 20:37:15.895 +04:30 [INF] User profile is available. Using 'C:\Users\kavan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-30 20:37:17.146 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 20:37:17.638 +04:30 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 20:37:17.681 +04:30 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 20:37:17.688 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 20:37:17.692 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 20:37:17.722 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-06-30 20:37:17.804 +04:30 [INF] No migrations were applied. The database is already up to date.
2021-06-30 20:37:18.205 +04:30 [INF] Now listening on: https://localhost:5001
2021-06-30 20:37:18.207 +04:30 [INF] Now listening on: http://localhost:5000
2021-06-30 20:37:18.209 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2021-06-30 20:37:18.210 +04:30 [INF] Hosting environment: Development
2021-06-30 20:37:18.212 +04:30 [INF] Content root path: C:\Users\kavan\source\repos\Raimun\WebApi
2021-06-30 20:37:19.540 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-06-30 20:37:19.838 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 306.5202ms
2021-06-30 20:37:20.206 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-06-30 20:37:20.414 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 208.3279ms
2021-06-30 20:37:29.538 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/Get - -
2021-06-30 20:37:29.652 +04:30 [INF] Executing endpoint 'WebApi.Controllers.weatherController.Get (WebApi)'
2021-06-30 20:37:29.691 +04:30 [INF] Route matched with {action = "Get", controller = "weather"}. Executing controller action with signature System.Threading.Tasks.Task`1[WebApi.Configuration.ApiResult`1[WebApi.ViewModels.Location]] Get() on controller WebApi.Controllers.weatherController (WebApi).
2021-06-30 20:37:29.824 +04:30 [INF] Executing action method WebApi.Controllers.weatherController.Get (WebApi) - Validation state: "Valid"
2021-06-30 21:35:02.263 +04:30 [INF] Starting up
2021-06-30 21:35:05.562 +04:30 [INF] User profile is available. Using 'C:\Users\kavan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-30 21:35:06.707 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 21:35:07.225 +04:30 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 21:35:07.265 +04:30 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 21:35:07.272 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 21:35:07.276 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 21:35:07.308 +04:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-06-30 21:35:07.336 +04:30 [INF] No migrations were applied. The database is already up to date.
2021-06-30 21:35:07.753 +04:30 [INF] Now listening on: https://localhost:5001
2021-06-30 21:35:07.755 +04:30 [INF] Now listening on: http://localhost:5000
2021-06-30 21:35:07.757 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2021-06-30 21:35:07.759 +04:30 [INF] Hosting environment: Development
2021-06-30 21:35:07.762 +04:30 [INF] Content root path: C:\Users\kavan\source\repos\Raimun\WebApi
2021-06-30 21:35:09.507 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-06-30 21:35:41.843 +04:30 [INF] Starting up
2021-06-30 21:35:44.260 +04:30 [INF] User profile is available. Using 'C:\Users\kavan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-30 21:35:45.334 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 21:35:45.773 +04:30 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 21:35:45.816 +04:30 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 21:35:45.824 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 21:35:45.828 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 21:35:45.864 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-06-30 21:35:45.894 +04:30 [INF] No migrations were applied. The database is already up to date.
2021-06-30 21:35:46.253 +04:30 [INF] Now listening on: https://localhost:5001
2021-06-30 21:35:46.255 +04:30 [INF] Now listening on: http://localhost:5000
2021-06-30 21:35:46.257 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2021-06-30 21:35:46.259 +04:30 [INF] Hosting environment: Development
2021-06-30 21:35:46.260 +04:30 [INF] Content root path: C:\Users\kavan\source\repos\Raimun\WebApi
2021-06-30 21:35:47.369 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-06-30 21:35:47.573 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 206.0100ms
2021-06-30 21:35:47.937 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-06-30 21:35:48.397 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 459.9093ms
2021-06-30 21:36:06.835 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/users/Token application/x-www-form-urlencoded 56
2021-06-30 21:36:06.879 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/users/Token application/x-www-form-urlencoded 56 - 404 0 - 44.2464ms
2021-06-30 21:36:37.512 +04:30 [INF] Starting up
2021-06-30 21:36:39.816 +04:30 [INF] User profile is available. Using 'C:\Users\kavan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-30 21:36:41.112 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 21:36:41.635 +04:30 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 21:36:41.675 +04:30 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 21:36:41.682 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 21:36:41.686 +04:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 21:36:41.714 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-06-30 21:36:41.737 +04:30 [INF] No migrations were applied. The database is already up to date.
2021-06-30 21:36:42.206 +04:30 [INF] Now listening on: https://localhost:5001
2021-06-30 21:36:42.208 +04:30 [INF] Now listening on: http://localhost:5000
2021-06-30 21:36:42.209 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2021-06-30 21:36:42.211 +04:30 [INF] Hosting environment: Development
2021-06-30 21:36:42.213 +04:30 [INF] Content root path: C:\Users\kavan\source\repos\Raimun\WebApi
2021-06-30 21:36:43.505 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-06-30 21:36:43.708 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 205.8395ms
2021-06-30 21:36:44.090 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-06-30 21:36:44.472 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 382.2183ms
2021-06-30 21:36:54.433 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 56
2021-06-30 21:36:54.475 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 56 - 404 0 - 41.5426ms
2021-06-30 21:37:48.673 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/Token?username=09187708317&password=123456 - 0
2021-06-30 21:37:48.681 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:37:48.730 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 21:37:48.923 +04:30 [INF] Executing action method WebApi.Controllers.UserController.Token (WebApi) - Validation state: "Valid"
2021-06-30 21:37:48.959 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 21:37:49.591 +04:30 [INF] Executed DbCommand (44ms) [Parameters=[@__tokenRequest_username_0='?' (Size = 4000), @__tokenRequest_password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Stamp], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[UserName] = @__tokenRequest_username_0) AND ([u].[Password] = @__tokenRequest_password_1)
2021-06-30 21:37:52.605 +04:30 [WRN] متد Token فراخوانی شد توسط
2021-06-30 21:37:52.816 +04:30 [INF] Executed DbCommand (10ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [Stamp] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2021-06-30 21:37:53.468 +04:30 [INF] Executed action method WebApi.Controllers.UserController.Token (WebApi), returned result Microsoft.AspNetCore.Mvc.JsonResult in 4537.0246ms.
2021-06-30 21:37:53.487 +04:30 [INF] Executing JsonResult, writing value of type 'WebApi.Configuration.JWT.AccessToken'.
2021-06-30 21:37:53.647 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 4905.6171ms
2021-06-30 21:37:53.650 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:37:53.656 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/Token?username=09187708317&password=123456 - 0 - 200 - application/json;+charset=utf-8 4983.8142ms
2021-06-30 21:39:00.844 +04:30 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Token?username=09187708317&password=123456 - 0
2021-06-30 21:39:00.847 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:39:00.849 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 21:39:00.955 +04:30 [INF] Executing action method WebApi.Controllers.UserController.Token (WebApi) - Validation state: "Valid"
2021-06-30 21:39:01.040 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 21:39:01.070 +04:30 [INF] Executed DbCommand (3ms) [Parameters=[@__tokenRequest_username_0='?' (Size = 4000), @__tokenRequest_password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Stamp], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[UserName] = @__tokenRequest_username_0) AND ([u].[Password] = @__tokenRequest_password_1)
2021-06-30 21:39:34.878 +04:30 [INF] Starting up
2021-06-30 21:39:38.618 +04:30 [INF] User profile is available. Using 'C:\Users\kavan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-30 21:39:40.096 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 21:39:40.553 +04:30 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 21:39:40.595 +04:30 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 21:39:40.603 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 21:39:40.606 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 21:39:40.638 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-06-30 21:39:40.662 +04:30 [INF] No migrations were applied. The database is already up to date.
2021-06-30 21:39:41.263 +04:30 [INF] Now listening on: https://localhost:5001
2021-06-30 21:39:41.265 +04:30 [INF] Now listening on: http://localhost:5000
2021-06-30 21:39:41.267 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2021-06-30 21:39:41.268 +04:30 [INF] Hosting environment: Development
2021-06-30 21:39:41.270 +04:30 [INF] Content root path: C:\Users\kavan\source\repos\Raimun\WebApi
2021-06-30 21:39:42.636 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-06-30 21:39:42.866 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 234.9946ms
2021-06-30 21:39:43.532 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-06-30 21:39:43.803 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 270.8504ms
2021-06-30 21:39:53.771 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 56
2021-06-30 21:39:53.918 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:39:53.986 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 21:39:54.051 +04:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-06-30 21:39:54.328 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 332.4548ms
2021-06-30 21:39:54.330 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:39:54.333 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 56 - 415 175 application/problem+json;+charset=utf-8 562.3861ms
2021-06-30 21:40:50.967 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 47
2021-06-30 21:40:50.970 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:40:50.972 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 21:40:50.980 +04:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-06-30 21:40:50.982 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 7.3644ms
2021-06-30 21:40:50.985 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:40:50.987 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 47 - 415 175 application/problem+json;+charset=utf-8 20.3894ms
2021-06-30 21:46:30.100 +04:30 [INF] Starting up
2021-06-30 21:46:32.577 +04:30 [INF] User profile is available. Using 'C:\Users\kavan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-30 21:46:33.580 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 21:46:33.997 +04:30 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 21:46:34.039 +04:30 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 21:46:34.046 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 21:46:34.050 +04:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 21:46:34.079 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-06-30 21:46:34.102 +04:30 [INF] No migrations were applied. The database is already up to date.
2021-06-30 21:46:34.459 +04:30 [INF] Now listening on: https://localhost:5001
2021-06-30 21:46:34.461 +04:30 [INF] Now listening on: http://localhost:5000
2021-06-30 21:46:34.463 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2021-06-30 21:46:34.464 +04:30 [INF] Hosting environment: Development
2021-06-30 21:46:34.466 +04:30 [INF] Content root path: C:\Users\kavan\source\repos\Raimun\WebApi
2021-06-30 21:46:35.657 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-06-30 21:47:28.525 +04:30 [INF] Starting up
2021-06-30 21:47:32.195 +04:30 [INF] User profile is available. Using 'C:\Users\kavan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-30 21:47:33.601 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 21:47:34.361 +04:30 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 21:47:34.406 +04:30 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 21:47:34.414 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 21:47:34.418 +04:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 21:47:34.487 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-06-30 21:47:34.509 +04:30 [INF] No migrations were applied. The database is already up to date.
2021-06-30 21:47:34.977 +04:30 [INF] Now listening on: https://localhost:5001
2021-06-30 21:47:34.979 +04:30 [INF] Now listening on: http://localhost:5000
2021-06-30 21:47:34.982 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2021-06-30 21:47:34.983 +04:30 [INF] Hosting environment: Development
2021-06-30 21:47:34.985 +04:30 [INF] Content root path: C:\Users\kavan\source\repos\Raimun\WebApi
2021-06-30 21:47:36.489 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-06-30 21:48:27.737 +04:30 [INF] Starting up
2021-06-30 21:48:31.954 +04:30 [INF] User profile is available. Using 'C:\Users\kavan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-30 21:48:33.408 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 21:48:34.099 +04:30 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 21:48:34.141 +04:30 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 21:48:34.149 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 21:48:34.153 +04:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 21:48:34.184 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-06-30 21:48:34.206 +04:30 [INF] No migrations were applied. The database is already up to date.
2021-06-30 21:48:34.643 +04:30 [INF] Now listening on: https://localhost:5001
2021-06-30 21:48:34.645 +04:30 [INF] Now listening on: http://localhost:5000
2021-06-30 21:48:34.648 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2021-06-30 21:48:34.649 +04:30 [INF] Hosting environment: Development
2021-06-30 21:48:34.651 +04:30 [INF] Content root path: C:\Users\kavan\source\repos\Raimun\WebApi
2021-06-30 21:48:36.076 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-06-30 21:49:08.605 +04:30 [INF] Starting up
2021-06-30 21:49:11.142 +04:30 [INF] User profile is available. Using 'C:\Users\kavan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-30 21:49:12.258 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 21:49:12.676 +04:30 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 21:49:12.715 +04:30 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 21:49:12.722 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 21:49:12.726 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 21:49:12.755 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-06-30 21:49:12.784 +04:30 [INF] No migrations were applied. The database is already up to date.
2021-06-30 21:49:13.132 +04:30 [INF] Now listening on: https://localhost:5001
2021-06-30 21:49:13.134 +04:30 [INF] Now listening on: http://localhost:5000
2021-06-30 21:49:13.136 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2021-06-30 21:49:13.137 +04:30 [INF] Hosting environment: Development
2021-06-30 21:49:13.139 +04:30 [INF] Content root path: C:\Users\kavan\source\repos\Raimun\WebApi
2021-06-30 21:49:14.530 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-06-30 21:49:14.786 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 265.9521ms
2021-06-30 21:49:15.095 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-06-30 21:49:15.519 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 424.8838ms
2021-06-30 21:49:31.869 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 56
2021-06-30 21:49:31.926 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:49:31.976 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 21:49:32.035 +04:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-06-30 21:49:32.306 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 315.6087ms
2021-06-30 21:49:32.309 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:49:32.312 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 56 - 415 175 application/problem+json;+charset=utf-8 442.2906ms
2021-06-30 21:49:42.208 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js.map - -
2021-06-30 21:49:42.208 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js.map - -
2021-06-30 21:49:42.217 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js.map - - - 404 0 - 9.2255ms
2021-06-30 21:49:42.217 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js.map - - - 404 0 - 9.4060ms
2021-06-30 21:49:42.244 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css.map - -
2021-06-30 21:49:42.248 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css.map - - - 404 0 - 3.5311ms
2021-06-30 21:49:50.016 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 56
2021-06-30 21:49:50.023 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:49:50.028 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 21:49:50.037 +04:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-06-30 21:49:50.040 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 5.7075ms
2021-06-30 21:49:50.045 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:49:50.048 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 56 - 415 175 application/problem+json;+charset=utf-8 31.9388ms
2021-06-30 21:49:55.381 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 84
2021-06-30 21:49:55.384 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:49:55.434 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 21:49:55.454 +04:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-06-30 21:49:55.457 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 6.8219ms
2021-06-30 21:49:55.460 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:49:55.463 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 84 - 415 175 application/problem+json;+charset=utf-8 82.5101ms
2021-06-30 21:50:00.512 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 84
2021-06-30 21:50:00.518 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:50:00.530 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 21:50:00.544 +04:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-06-30 21:50:00.546 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 3.8257ms
2021-06-30 21:50:00.551 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:50:00.556 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 84 - 415 175 application/problem+json;+charset=utf-8 44.0201ms
2021-06-30 21:50:05.209 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 94
2021-06-30 21:50:05.211 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:50:05.218 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 21:50:05.252 +04:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-06-30 21:50:05.258 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 19.9216ms
2021-06-30 21:50:05.275 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:50:05.280 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 94 - 415 175 application/problem+json;+charset=utf-8 71.2467ms
2021-06-30 21:50:09.211 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 56
2021-06-30 21:50:09.217 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:50:09.219 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 21:50:09.225 +04:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-06-30 21:50:09.237 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 12.6395ms
2021-06-30 21:50:09.242 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:50:09.245 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 56 - 415 175 application/problem+json;+charset=utf-8 33.9733ms
2021-06-30 21:50:11.226 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 56
2021-06-30 21:50:11.229 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:50:11.235 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 21:50:11.243 +04:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-06-30 21:50:11.246 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 3.6476ms
2021-06-30 21:50:11.249 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:50:11.252 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 56 - 415 175 application/problem+json;+charset=utf-8 26.4451ms
2021-06-30 21:50:12.014 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 56
2021-06-30 21:50:12.017 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:50:12.026 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 21:50:12.032 +04:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-06-30 21:50:12.034 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 3.3978ms
2021-06-30 21:50:12.037 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:50:12.040 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 56 - 415 175 application/problem+json;+charset=utf-8 25.5441ms
2021-06-30 21:50:12.239 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 56
2021-06-30 21:50:12.242 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:50:12.244 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 21:50:12.255 +04:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-06-30 21:50:12.258 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 3.0896ms
2021-06-30 21:50:12.262 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:50:12.272 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 56 - 415 175 application/problem+json;+charset=utf-8 32.9859ms
2021-06-30 21:50:21.352 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 56
2021-06-30 21:50:21.355 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:50:21.358 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 21:50:21.370 +04:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-06-30 21:50:21.379 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 9.906ms
2021-06-30 21:50:21.382 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:50:21.388 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 56 - 415 175 application/problem+json;+charset=utf-8 36.1112ms
2021-06-30 21:50:23.293 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 56
2021-06-30 21:50:23.297 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:50:23.305 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 21:50:23.311 +04:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-06-30 21:50:23.313 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 3.0864ms
2021-06-30 21:50:23.318 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:50:23.320 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 56 - 415 175 application/problem+json;+charset=utf-8 27.1376ms
2021-06-30 21:50:34.780 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-06-30 21:50:34.796 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 16.1006ms
2021-06-30 21:50:54.263 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 54
2021-06-30 21:50:54.297 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:50:54.298 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 21:50:54.301 +04:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-06-30 21:50:54.303 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 2.2863ms
2021-06-30 21:50:54.305 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:50:54.307 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 54 - 415 175 application/problem+json;+charset=utf-8 56.5180ms
2021-06-30 21:50:55.369 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 54
2021-06-30 21:50:55.374 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:50:55.376 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 21:50:55.382 +04:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-06-30 21:50:55.385 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 3.5898ms
2021-06-30 21:50:55.392 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:50:55.395 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 54 - 415 175 application/problem+json;+charset=utf-8 26.2122ms
2021-06-30 21:50:56.249 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 54
2021-06-30 21:50:56.252 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:50:56.255 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 21:50:56.263 +04:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-06-30 21:50:56.265 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 2.8296ms
2021-06-30 21:50:56.268 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:50:56.270 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 54 - 415 175 application/problem+json;+charset=utf-8 21.6733ms
2021-06-30 21:50:57.072 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 54
2021-06-30 21:50:57.080 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:50:57.084 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 21:50:57.089 +04:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-06-30 21:50:57.096 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 8.3071ms
2021-06-30 21:50:57.100 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:50:57.102 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 54 - 415 175 application/problem+json;+charset=utf-8 30.1730ms
2021-06-30 21:53:17.692 +04:30 [INF] Starting up
2021-06-30 21:53:20.013 +04:30 [INF] User profile is available. Using 'C:\Users\kavan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-30 21:53:21.039 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 21:53:21.444 +04:30 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 21:53:21.483 +04:30 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 21:53:21.491 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 21:53:21.494 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 21:53:21.523 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-06-30 21:53:21.546 +04:30 [INF] No migrations were applied. The database is already up to date.
2021-06-30 21:53:21.959 +04:30 [INF] Now listening on: https://localhost:5001
2021-06-30 21:53:21.961 +04:30 [INF] Now listening on: http://localhost:5000
2021-06-30 21:53:21.962 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2021-06-30 21:53:21.964 +04:30 [INF] Hosting environment: Development
2021-06-30 21:53:21.965 +04:30 [INF] Content root path: C:\Users\kavan\source\repos\Raimun\WebApi
2021-06-30 21:53:23.344 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-06-30 21:53:23.594 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 251.6737ms
2021-06-30 21:53:24.126 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-06-30 21:53:24.540 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 414.1248ms
2021-06-30 21:53:27.673 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 54
2021-06-30 21:53:27.735 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:53:27.781 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 21:53:27.834 +04:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-06-30 21:53:28.072 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 263.9682ms
2021-06-30 21:53:28.075 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:53:28.111 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 54 - 415 175 application/problem+json;+charset=utf-8 437.5319ms
2021-06-30 21:53:41.696 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 54
2021-06-30 21:53:41.701 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:53:41.706 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 21:53:41.718 +04:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-06-30 21:53:41.721 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 7.0562ms
2021-06-30 21:53:41.723 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:53:41.726 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 54 - 415 175 application/problem+json;+charset=utf-8 29.7399ms
2021-06-30 21:53:42.522 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 54
2021-06-30 21:53:42.525 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:53:42.527 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 21:53:42.535 +04:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-06-30 21:53:42.537 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 4.5124ms
2021-06-30 21:53:42.539 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:53:42.541 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 54 - 415 175 application/problem+json;+charset=utf-8 18.9811ms
2021-06-30 21:53:43.113 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 54
2021-06-30 21:53:43.117 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:53:43.120 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 21:53:43.131 +04:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-06-30 21:53:43.135 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 5.3465ms
2021-06-30 21:53:43.138 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:53:43.140 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 54 - 415 175 application/problem+json;+charset=utf-8 27.3927ms
2021-06-30 21:53:43.405 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 54
2021-06-30 21:53:43.408 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:53:43.411 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 21:53:43.421 +04:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-06-30 21:53:43.481 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 62.1653ms
2021-06-30 21:53:43.484 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:53:43.486 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 54 - 415 175 application/problem+json;+charset=utf-8 81.3022ms
2021-06-30 21:55:56.666 +04:30 [INF] Starting up
2021-06-30 21:55:59.269 +04:30 [INF] User profile is available. Using 'C:\Users\kavan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-30 21:56:00.582 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 21:56:01.114 +04:30 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 21:56:01.162 +04:30 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 21:56:01.170 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 21:56:01.173 +04:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 21:56:01.208 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-06-30 21:56:01.232 +04:30 [INF] No migrations were applied. The database is already up to date.
2021-06-30 21:56:01.675 +04:30 [INF] Now listening on: https://localhost:5001
2021-06-30 21:56:01.677 +04:30 [INF] Now listening on: http://localhost:5000
2021-06-30 21:56:01.680 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2021-06-30 21:56:01.681 +04:30 [INF] Hosting environment: Development
2021-06-30 21:56:01.683 +04:30 [INF] Content root path: C:\Users\kavan\source\repos\Raimun\WebApi
2021-06-30 21:56:03.263 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-06-30 21:56:03.494 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 236.9459ms
2021-06-30 21:56:03.991 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-06-30 21:56:04.453 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 462.2258ms
2021-06-30 21:56:09.435 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 54
2021-06-30 21:56:09.495 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:56:09.537 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 21:56:09.589 +04:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-06-30 21:56:09.851 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 298.9659ms
2021-06-30 21:56:09.854 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:56:09.858 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 54 - 415 175 application/problem+json;+charset=utf-8 423.1310ms
2021-06-30 21:56:19.189 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 54
2021-06-30 21:56:19.193 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:56:19.198 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 21:56:19.209 +04:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-06-30 21:56:19.212 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 6.594ms
2021-06-30 21:56:19.215 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:56:19.238 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 54 - 415 175 application/problem+json;+charset=utf-8 48.8603ms
2021-06-30 21:56:20.115 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 54
2021-06-30 21:56:20.120 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:56:20.123 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 21:56:20.134 +04:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-06-30 21:56:20.139 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 9.2791ms
2021-06-30 21:56:20.142 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 21:56:20.144 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 54 - 415 175 application/problem+json;+charset=utf-8 29.1968ms
2021-06-30 22:00:50.692 +04:30 [INF] Starting up
2021-06-30 22:00:53.405 +04:30 [INF] User profile is available. Using 'C:\Users\kavan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-30 22:00:54.663 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 22:00:55.216 +04:30 [INF] Executed DbCommand (70ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 22:00:55.269 +04:30 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 22:00:55.276 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 22:00:55.280 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 22:00:55.313 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-06-30 22:00:55.337 +04:30 [INF] No migrations were applied. The database is already up to date.
2021-06-30 22:00:55.812 +04:30 [INF] Now listening on: https://localhost:5001
2021-06-30 22:00:55.814 +04:30 [INF] Now listening on: http://localhost:5000
2021-06-30 22:00:55.817 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2021-06-30 22:00:55.846 +04:30 [INF] Hosting environment: Development
2021-06-30 22:00:55.848 +04:30 [INF] Content root path: C:\Users\kavan\source\repos\Raimun\WebApi
2021-06-30 22:00:57.211 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-06-30 22:00:57.505 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 298.7660ms
2021-06-30 22:00:58.103 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-06-30 22:00:58.585 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 482.2837ms
2021-06-30 22:01:06.276 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 54
2021-06-30 22:01:06.336 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 22:01:06.378 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 22:01:06.427 +04:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-06-30 22:01:06.616 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 228.4394ms
2021-06-30 22:01:06.619 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 22:01:06.622 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 54 - 415 175 application/problem+json;+charset=utf-8 346.3617ms
2021-06-30 22:01:13.184 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 89
2021-06-30 22:01:13.201 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 22:01:13.211 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 22:01:13.218 +04:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-06-30 22:01:13.223 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 7.916ms
2021-06-30 22:01:13.226 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 22:01:13.228 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 89 - 415 175 application/problem+json;+charset=utf-8 43.7368ms
2021-06-30 22:01:16.303 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 99
2021-06-30 22:01:16.317 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 22:01:16.319 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 22:01:16.327 +04:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-06-30 22:01:16.329 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 4.2515ms
2021-06-30 22:01:16.331 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 22:01:16.333 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 99 - 415 175 application/problem+json;+charset=utf-8 30.6185ms
2021-06-30 22:01:43.706 +04:30 [INF] Starting up
2021-06-30 22:01:46.620 +04:30 [INF] User profile is available. Using 'C:\Users\kavan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-30 22:01:47.846 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 22:01:48.344 +04:30 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 22:01:48.388 +04:30 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 22:01:48.395 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 22:01:48.398 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 22:01:48.440 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-06-30 22:01:48.473 +04:30 [INF] No migrations were applied. The database is already up to date.
2021-06-30 22:01:48.876 +04:30 [INF] Now listening on: https://localhost:5001
2021-06-30 22:01:48.880 +04:30 [INF] Now listening on: http://localhost:5000
2021-06-30 22:01:48.882 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2021-06-30 22:01:48.883 +04:30 [INF] Hosting environment: Development
2021-06-30 22:01:48.885 +04:30 [INF] Content root path: C:\Users\kavan\source\repos\Raimun\WebApi
2021-06-30 22:01:50.268 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-06-30 22:01:50.445 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 180.7792ms
2021-06-30 22:01:50.933 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-06-30 22:01:51.239 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 305.8171ms
2021-06-30 22:01:55.427 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 54
2021-06-30 22:01:55.501 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 22:01:55.575 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 22:01:55.798 +04:30 [INF] Executing action method WebApi.Controllers.UserController.Token (WebApi) - Validation state: "Valid"
2021-06-30 22:01:55.823 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 22:01:56.250 +04:30 [INF] Executed DbCommand (49ms) [Parameters=[@__tokenRequest_username_0='?' (Size = 4000), @__tokenRequest_password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Stamp], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[UserName] = @__tokenRequest_username_0) AND ([u].[Password] = @__tokenRequest_password_1)
2021-06-30 22:01:56.496 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 896.413ms
2021-06-30 22:01:56.502 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 22:01:56.512 +04:30 [ERR] An unhandled exception has occurred while executing the request.
WebApi.Exceptions.BadRequestException: نام کاربری یا رمز عبور اشتباه میباشد.
   at WebApi.Controllers.UserController.Token(TokenRequest tokenRequest, CancellationToken cancellationToken) in C:\Users\kavan\source\repos\Raimun\WebApi\Controllers\UserController.cs:line 67
   at lambda_method6(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.ReDoc.ReDocMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-06-30 22:01:56.822 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 54 - 500 - text/plain 1395.9965ms
2021-06-30 22:02:00.897 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 54
2021-06-30 22:02:00.901 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 22:02:00.909 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 22:02:00.943 +04:30 [INF] Executing action method WebApi.Controllers.UserController.Token (WebApi) - Validation state: "Valid"
2021-06-30 22:02:00.981 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 22:02:00.993 +04:30 [INF] Executed DbCommand (4ms) [Parameters=[@__tokenRequest_username_0='?' (Size = 4000), @__tokenRequest_password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Stamp], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[UserName] = @__tokenRequest_username_0) AND ([u].[Password] = @__tokenRequest_password_1)
2021-06-30 22:02:01.064 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 150.3236ms
2021-06-30 22:02:01.067 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 22:02:01.070 +04:30 [ERR] An unhandled exception has occurred while executing the request.
WebApi.Exceptions.BadRequestException: نام کاربری یا رمز عبور اشتباه میباشد.
   at WebApi.Controllers.UserController.Token(TokenRequest tokenRequest, CancellationToken cancellationToken) in C:\Users\kavan\source\repos\Raimun\WebApi\Controllers\UserController.cs:line 67
   at lambda_method6(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.ReDoc.ReDocMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-06-30 22:02:01.089 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 54 - 500 - text/plain 191.9906ms
2021-06-30 22:02:04.224 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 90
2021-06-30 22:02:04.228 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 22:02:04.233 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 22:02:04.269 +04:30 [INF] Executing action method WebApi.Controllers.UserController.Token (WebApi) - Validation state: "Valid"
2021-06-30 22:02:04.271 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 22:02:04.279 +04:30 [INF] Executed DbCommand (3ms) [Parameters=[@__tokenRequest_username_0='?' (Size = 4000), @__tokenRequest_password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Stamp], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[UserName] = @__tokenRequest_username_0) AND ([u].[Password] = @__tokenRequest_password_1)
2021-06-30 22:02:04.355 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 118.0436ms
2021-06-30 22:02:04.358 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 22:02:04.361 +04:30 [ERR] An unhandled exception has occurred while executing the request.
WebApi.Exceptions.BadRequestException: نام کاربری یا رمز عبور اشتباه میباشد.
   at WebApi.Controllers.UserController.Token(TokenRequest tokenRequest, CancellationToken cancellationToken) in C:\Users\kavan\source\repos\Raimun\WebApi\Controllers\UserController.cs:line 67
   at lambda_method6(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.ReDoc.ReDocMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-06-30 22:02:04.393 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 90 - 500 - text/plain 169.7731ms
2021-06-30 22:02:06.456 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 54
2021-06-30 22:02:06.459 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 22:02:06.465 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 22:02:06.495 +04:30 [INF] Executing action method WebApi.Controllers.UserController.Token (WebApi) - Validation state: "Valid"
2021-06-30 22:02:06.498 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 22:02:06.505 +04:30 [INF] Executed DbCommand (3ms) [Parameters=[@__tokenRequest_username_0='?' (Size = 4000), @__tokenRequest_password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Stamp], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[UserName] = @__tokenRequest_username_0) AND ([u].[Password] = @__tokenRequest_password_1)
2021-06-30 22:02:06.570 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 101.5288ms
2021-06-30 22:02:06.574 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 22:02:06.577 +04:30 [ERR] An unhandled exception has occurred while executing the request.
WebApi.Exceptions.BadRequestException: نام کاربری یا رمز عبور اشتباه میباشد.
   at WebApi.Controllers.UserController.Token(TokenRequest tokenRequest, CancellationToken cancellationToken) in C:\Users\kavan\source\repos\Raimun\WebApi\Controllers\UserController.cs:line 67
   at lambda_method6(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.ReDoc.ReDocMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-06-30 22:02:06.602 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 54 - 500 - text/plain 145.9821ms
2021-06-30 22:02:17.928 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 90
2021-06-30 22:02:17.941 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 22:02:17.949 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 22:02:18.007 +04:30 [INF] Executing action method WebApi.Controllers.UserController.Token (WebApi) - Validation state: "Valid"
2021-06-30 22:02:22.226 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 22:02:22.234 +04:30 [INF] Executed DbCommand (3ms) [Parameters=[@__tokenRequest_username_0='?' (Size = 4000), @__tokenRequest_password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Stamp], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[UserName] = @__tokenRequest_username_0) AND ([u].[Password] = @__tokenRequest_password_1)
2021-06-30 22:02:22.315 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 4361.8452ms
2021-06-30 22:02:22.318 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 22:02:22.321 +04:30 [ERR] An unhandled exception has occurred while executing the request.
WebApi.Exceptions.BadRequestException: نام کاربری یا رمز عبور اشتباه میباشد.
   at WebApi.Controllers.UserController.Token(TokenRequest tokenRequest, CancellationToken cancellationToken) in C:\Users\kavan\source\repos\Raimun\WebApi\Controllers\UserController.cs:line 67
   at lambda_method6(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.ReDoc.ReDocMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-06-30 22:02:22.345 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 90 - 500 - text/plain 4416.9132ms
2021-06-30 22:02:32.289 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 92
2021-06-30 22:02:32.292 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 22:02:32.302 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 22:02:32.344 +04:30 [INF] Executing action method WebApi.Controllers.UserController.Token (WebApi) - Validation state: "Valid"
2021-06-30 22:02:34.430 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 22:02:34.444 +04:30 [INF] Executed DbCommand (3ms) [Parameters=[@__tokenRequest_username_0='?' (Size = 4000), @__tokenRequest_password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Stamp], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[UserName] = @__tokenRequest_username_0) AND ([u].[Password] = @__tokenRequest_password_1)
2021-06-30 22:02:36.886 +04:30 [WRN] متد Token فراخوانی شد توسط
2021-06-30 22:02:38.839 +04:30 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [Stamp] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2021-06-30 22:02:43.883 +04:30 [INF] Executed action method WebApi.Controllers.UserController.Token (WebApi), returned result Microsoft.AspNetCore.Mvc.JsonResult in 11525.4812ms.
2021-06-30 22:02:43.907 +04:30 [INF] Executing JsonResult, writing value of type 'WebApi.Configuration.JWT.AccessToken'.
2021-06-30 22:02:44.050 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 11741.7249ms
2021-06-30 22:02:44.052 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 22:02:44.055 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 92 - 200 - application/json;+charset=utf-8 11765.3877ms
2021-06-30 22:02:56.931 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 89
2021-06-30 22:02:56.941 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 22:02:56.944 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 22:02:56.973 +04:30 [INF] Executing action method WebApi.Controllers.UserController.Token (WebApi) - Validation state: "Valid"
2021-06-30 22:02:59.354 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 22:02:59.363 +04:30 [INF] Executed DbCommand (3ms) [Parameters=[@__tokenRequest_username_0='?' (Size = 4000), @__tokenRequest_password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Stamp], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[UserName] = @__tokenRequest_username_0) AND ([u].[Password] = @__tokenRequest_password_1)
2021-06-30 22:02:59.429 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 2482.1075ms
2021-06-30 22:02:59.431 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 22:02:59.434 +04:30 [ERR] An unhandled exception has occurred while executing the request.
WebApi.Exceptions.BadRequestException: نام کاربری یا رمز عبور اشتباه میباشد.
   at WebApi.Controllers.UserController.Token(TokenRequest tokenRequest, CancellationToken cancellationToken) in C:\Users\kavan\source\repos\Raimun\WebApi\Controllers\UserController.cs:line 67
   at lambda_method6(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.ReDoc.ReDocMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-06-30 22:02:59.450 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 89 - 500 - text/plain 2519.9053ms
2021-06-30 22:09:45.739 +04:30 [INF] Starting up
2021-06-30 22:09:49.223 +04:30 [INF] User profile is available. Using 'C:\Users\kavan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-30 22:09:49.424 +04:30 [INF] Start installing Hangfire SQL objects...
2021-06-30 22:09:50.596 +04:30 [INF] Hangfire SQL objects installed.
2021-06-30 22:09:50.781 +04:30 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@RaimunDbContext'
2021-06-30 22:09:50.784 +04:30 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2021-06-30 22:09:50.786 +04:30 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2021-06-30 22:09:51.478 +04:30 [INF] Server desktop-7hkhhu2:23580:6af63bd7 successfully announced in 615/7302 ms
2021-06-30 22:09:51.494 +04:30 [INF] Server desktop-7hkhhu2:23580:6af63bd7 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2021-06-30 22:09:51.860 +04:30 [INF] Server desktop-7hkhhu2:23580:6af63bd7 all the dispatchers started
2021-06-30 22:09:53.089 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 22:09:53.771 +04:30 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 22:09:53.822 +04:30 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 22:09:53.830 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 22:09:53.834 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 22:09:53.864 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-06-30 22:09:53.891 +04:30 [INF] No migrations were applied. The database is already up to date.
2021-06-30 22:09:54.382 +04:30 [INF] Now listening on: https://localhost:5001
2021-06-30 22:09:54.384 +04:30 [INF] Now listening on: http://localhost:5000
2021-06-30 22:09:54.387 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2021-06-30 22:09:54.388 +04:30 [INF] Hosting environment: Development
2021-06-30 22:09:54.391 +04:30 [INF] Content root path: C:\Users\kavan\source\repos\Raimun\WebApi
2021-06-30 22:09:56.204 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-06-30 22:09:56.412 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 208.6510ms
2021-06-30 22:09:56.691 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-06-30 22:09:57.185 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 493.4333ms
2021-06-30 22:10:00.126 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire - -
2021-06-30 22:10:00.627 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire - - - 200 - text/html 502.0860ms
2021-06-30 22:10:00.681 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/css17240 - -
2021-06-30 22:10:00.689 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/js17240 - -
2021-06-30 22:10:00.786 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/css17240 - - - 200 - text/css 105.3608ms
2021-06-30 22:10:00.805 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/js17240 - - - 200 - application/javascript 115.9302ms
2021-06-30 22:10:01.105 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/fonts/glyphicons-halflings-regular/woff2 - -
2021-06-30 22:10:01.147 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/fonts/glyphicons-halflings-regular/woff2 - - - 200 - font/woff2 41.9306ms
2021-06-30 22:10:03.066 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/hangfire/stats application/x-www-form-urlencoded;+charset=UTF-8 228
2021-06-30 22:10:03.340 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/hangfire/stats application/x-www-form-urlencoded;+charset=UTF-8 228 - 200 - application/json 274.0402ms
2021-06-30 22:10:05.370 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/hangfire/stats application/x-www-form-urlencoded;+charset=UTF-8 228
2021-06-30 22:10:05.414 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/jobs/enqueued - -
2021-06-30 22:10:05.602 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/hangfire/stats application/x-www-form-urlencoded;+charset=UTF-8 228 - 200 - application/json 232.1954ms
2021-06-30 22:10:05.732 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/jobs/enqueued - - - 200 - text/html 318.3795ms
2021-06-30 22:10:05.817 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/js17240 - -
2021-06-30 22:10:05.817 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/css17240 - -
2021-06-30 22:10:05.839 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/css17240 - - - 200 - text/css 21.8905ms
2021-06-30 22:10:05.846 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/js17240 - - - 200 - application/javascript 28.1373ms
2021-06-30 22:10:05.873 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/fonts/glyphicons-halflings-regular/woff2 - -
2021-06-30 22:10:05.875 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/fonts/glyphicons-halflings-regular/woff2 - - - 200 - font/woff2 2.2636ms
2021-06-30 22:10:07.522 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/retries - -
2021-06-30 22:10:07.694 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/retries - - - 200 - text/html 171.5334ms
2021-06-30 22:10:07.790 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/js17240 - -
2021-06-30 22:10:07.790 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/css17240 - -
2021-06-30 22:10:07.832 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/js17240 - - - 200 - application/javascript 61.6064ms
2021-06-30 22:10:07.835 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/css17240 - - - 200 - text/css 64.4899ms
2021-06-30 22:10:07.856 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/fonts/glyphicons-halflings-regular/woff2 - -
2021-06-30 22:10:07.860 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/fonts/glyphicons-halflings-regular/woff2 - - - 200 - font/woff2 3.8265ms
2021-06-30 22:10:08.801 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/recurring - -
2021-06-30 22:10:09.005 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/recurring - - - 200 - text/html 204.3285ms
2021-06-30 22:10:09.049 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/css17240 - -
2021-06-30 22:10:09.051 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/js17240 - -
2021-06-30 22:10:09.073 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/css17240 - - - 200 - text/css 21.0403ms
2021-06-30 22:10:09.098 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/fonts/glyphicons-halflings-regular/woff2 - -
2021-06-30 22:10:09.135 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/fonts/glyphicons-halflings-regular/woff2 - - - 200 - font/woff2 37.6848ms
2021-06-30 22:10:09.155 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/js17240 - - - 200 - application/javascript 105.2460ms
2021-06-30 22:10:10.466 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/recurring - -
2021-06-30 22:10:10.888 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/recurring - - - 200 - text/html 422.3406ms
2021-06-30 22:10:10.907 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/servers - -
2021-06-30 22:10:11.147 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/servers - - - 200 - text/html 239.9871ms
2021-06-30 22:10:11.188 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/css17240 - -
2021-06-30 22:10:11.189 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/js17240 - -
2021-06-30 22:10:11.200 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/css17240 - - - 200 - text/css 13.0759ms
2021-06-30 22:10:11.213 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/js17240 - - - 200 - application/javascript 24.0269ms
2021-06-30 22:10:11.231 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/fonts/glyphicons-halflings-regular/woff2 - -
2021-06-30 22:10:11.233 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/fonts/glyphicons-halflings-regular/woff2 - - - 200 - font/woff2 2.4276ms
2021-06-30 22:10:12.418 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/jobs/enqueued - -
2021-06-30 22:10:12.661 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/jobs/enqueued - - - 200 - text/html 244.5558ms
2021-06-30 22:10:12.700 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/css17240 - -
2021-06-30 22:10:12.704 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/js17240 - -
2021-06-30 22:10:12.719 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/css17240 - - - 200 - text/css 19.3020ms
2021-06-30 22:10:12.730 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/js17240 - - - 200 - application/javascript 26.7931ms
2021-06-30 22:10:12.751 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/fonts/glyphicons-halflings-regular/woff2 - -
2021-06-30 22:10:12.754 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/fonts/glyphicons-halflings-regular/woff2 - - - 200 - font/woff2 3.1637ms
2021-06-30 22:10:14.545 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/jobs/scheduled - -
2021-06-30 22:10:14.775 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/jobs/scheduled - - - 200 - text/html 229.6257ms
2021-06-30 22:10:14.803 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/css17240 - -
2021-06-30 22:10:14.804 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/js17240 - -
2021-06-30 22:10:14.818 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/css17240 - - - 200 - text/css 14.3932ms
2021-06-30 22:10:14.825 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/js17240 - - - 200 - application/javascript 20.7780ms
2021-06-30 22:10:14.842 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/fonts/glyphicons-halflings-regular/woff2 - -
2021-06-30 22:10:14.844 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/fonts/glyphicons-halflings-regular/woff2 - - - 200 - font/woff2 1.9894ms
2021-06-30 22:10:16.897 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/hangfire/stats application/x-www-form-urlencoded;+charset=UTF-8 392
2021-06-30 22:10:17.045 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/hangfire/stats application/x-www-form-urlencoded;+charset=UTF-8 392 - 200 - application/json 148.4723ms
2021-06-30 22:10:19.059 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/hangfire/stats application/x-www-form-urlencoded;+charset=UTF-8 392
2021-06-30 22:10:19.208 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/hangfire/stats application/x-www-form-urlencoded;+charset=UTF-8 392 - 200 - application/json 148.6731ms
2021-06-30 22:10:20.383 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/jobs/processing - -
2021-06-30 22:10:20.600 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/jobs/processing - - - 200 - text/html 216.7650ms
2021-06-30 22:10:20.642 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/css17240 - -
2021-06-30 22:10:20.643 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/js17240 - -
2021-06-30 22:10:20.650 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/css17240 - - - 200 - text/css 8.0452ms
2021-06-30 22:10:20.663 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/js17240 - - - 200 - application/javascript 20.2857ms
2021-06-30 22:10:20.676 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/fonts/glyphicons-halflings-regular/woff2 - -
2021-06-30 22:10:20.678 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/fonts/glyphicons-halflings-regular/woff2 - - - 200 - font/woff2 2.4669ms
2021-06-30 22:10:21.857 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/jobs/scheduled - -
2021-06-30 22:10:22.051 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/jobs/scheduled - - - 200 - text/html 194.0611ms
2021-06-30 22:10:22.091 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/js17240 - -
2021-06-30 22:10:22.091 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/css17240 - -
2021-06-30 22:10:22.110 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/js17240 - - - 200 - application/javascript 18.9561ms
2021-06-30 22:10:22.126 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/css17240 - - - 200 - text/css 35.0399ms
2021-06-30 22:10:22.177 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/fonts/glyphicons-halflings-regular/woff2 - -
2021-06-30 22:10:22.186 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/fonts/glyphicons-halflings-regular/woff2 - - - 200 - font/woff2 8.8170ms
2021-06-30 22:10:24.186 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/hangfire/stats application/x-www-form-urlencoded;+charset=UTF-8 392
2021-06-30 22:10:24.292 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/hangfire/stats application/x-www-form-urlencoded;+charset=UTF-8 392 - 200 - application/json 105.6973ms
2021-06-30 22:10:26.309 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/hangfire/stats application/x-www-form-urlencoded;+charset=UTF-8 392
2021-06-30 22:10:26.420 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/hangfire/stats application/x-www-form-urlencoded;+charset=UTF-8 392 - 200 - application/json 111.0570ms
2021-06-30 22:28:18.716 +04:30 [INF] Starting up
2021-06-30 22:28:21.213 +04:30 [INF] User profile is available. Using 'C:\Users\kavan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-30 22:28:21.282 +04:30 [INF] Start installing Hangfire SQL objects...
2021-06-30 22:28:21.629 +04:30 [INF] Hangfire SQL objects installed.
2021-06-30 22:28:21.763 +04:30 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@RaimunDbContext'
2021-06-30 22:28:21.765 +04:30 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2021-06-30 22:28:21.766 +04:30 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2021-06-30 22:28:22.176 +04:30 [INF] Server desktop-7hkhhu2:15516:b19c02e5 successfully announced in 361/4836 ms
2021-06-30 22:28:22.191 +04:30 [INF] Server desktop-7hkhhu2:15516:b19c02e5 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2021-06-30 22:28:22.274 +04:30 [INF] 1 servers were removed due to timeout
2021-06-30 22:28:22.525 +04:30 [INF] Server desktop-7hkhhu2:15516:b19c02e5 all the dispatchers started
2021-06-30 22:28:23.569 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 22:28:24.431 +04:30 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 22:28:24.469 +04:30 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 22:28:24.477 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 22:28:24.481 +04:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 22:28:24.515 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-06-30 22:28:24.569 +04:30 [INF] No migrations were applied. The database is already up to date.
2021-06-30 22:28:25.362 +04:30 [INF] Now listening on: https://localhost:5001
2021-06-30 22:28:25.364 +04:30 [INF] Now listening on: http://localhost:5000
2021-06-30 22:28:25.367 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2021-06-30 22:28:25.369 +04:30 [INF] Hosting environment: Development
2021-06-30 22:28:25.373 +04:30 [INF] Content root path: C:\Users\kavan\source\repos\Raimun\WebApi
2021-06-30 22:28:26.597 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-06-30 22:28:26.877 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 281.0954ms
2021-06-30 22:28:27.147 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-06-30 22:28:27.415 +04:30 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - WebApi.Controllers.weatherController.SaveInfo (WebApi). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwagger(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-06-30 22:28:27.543 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 500 - text/plain 396.0095ms
2021-06-30 22:29:16.236 +04:30 [INF] Starting up
2021-06-30 22:29:18.505 +04:30 [INF] User profile is available. Using 'C:\Users\kavan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-30 22:29:18.586 +04:30 [INF] Start installing Hangfire SQL objects...
2021-06-30 22:29:19.019 +04:30 [INF] Hangfire SQL objects installed.
2021-06-30 22:29:19.146 +04:30 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@RaimunDbContext'
2021-06-30 22:29:19.148 +04:30 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2021-06-30 22:29:19.150 +04:30 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2021-06-30 22:29:19.588 +04:30 [INF] Server desktop-7hkhhu2:23356:a2ab5a34 successfully announced in 392/4213 ms
2021-06-30 22:29:19.603 +04:30 [INF] Server desktop-7hkhhu2:23356:a2ab5a34 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2021-06-30 22:29:19.929 +04:30 [INF] Server desktop-7hkhhu2:23356:a2ab5a34 all the dispatchers started
2021-06-30 22:29:20.959 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 22:29:21.327 +04:30 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 22:29:21.365 +04:30 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 22:29:21.372 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 22:29:21.378 +04:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 22:29:21.406 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-06-30 22:29:21.431 +04:30 [INF] No migrations were applied. The database is already up to date.
2021-06-30 22:29:21.823 +04:30 [INF] Now listening on: https://localhost:5001
2021-06-30 22:29:21.825 +04:30 [INF] Now listening on: http://localhost:5000
2021-06-30 22:29:21.828 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2021-06-30 22:29:21.830 +04:30 [INF] Hosting environment: Development
2021-06-30 22:29:21.832 +04:30 [INF] Content root path: C:\Users\kavan\source\repos\Raimun\WebApi
2021-06-30 22:29:23.170 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-06-30 22:29:23.353 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 183.3044ms
2021-06-30 22:29:23.634 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-06-30 22:29:23.861 +04:30 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - WebApi.Controllers.weatherController.SaveInfo (WebApi). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwagger(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-06-30 22:29:23.936 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 500 - text/plain 301.7246ms
2021-06-30 22:30:10.891 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-06-30 22:30:10.903 +04:30 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - WebApi.Controllers.weatherController.SaveInfo (WebApi). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwagger(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-06-30 22:30:10.966 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 500 - text/html;+charset=utf-8 75.8223ms
2021-06-30 22:30:33.693 +04:30 [INF] Starting up
2021-06-30 22:30:35.981 +04:30 [INF] User profile is available. Using 'C:\Users\kavan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-30 22:30:36.060 +04:30 [INF] Start installing Hangfire SQL objects...
2021-06-30 22:30:36.418 +04:30 [INF] Hangfire SQL objects installed.
2021-06-30 22:30:36.546 +04:30 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@RaimunDbContext'
2021-06-30 22:30:36.548 +04:30 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2021-06-30 22:30:36.550 +04:30 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2021-06-30 22:30:36.939 +04:30 [INF] Server desktop-7hkhhu2:24916:50bbed47 successfully announced in 343/6205 ms
2021-06-30 22:30:36.954 +04:30 [INF] Server desktop-7hkhhu2:24916:50bbed47 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2021-06-30 22:30:37.271 +04:30 [INF] Server desktop-7hkhhu2:24916:50bbed47 all the dispatchers started
2021-06-30 22:30:38.340 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 22:30:38.698 +04:30 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 22:30:38.736 +04:30 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 22:30:38.743 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 22:30:38.747 +04:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 22:30:38.780 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-06-30 22:30:38.825 +04:30 [INF] No migrations were applied. The database is already up to date.
2021-06-30 22:30:39.293 +04:30 [INF] Now listening on: https://localhost:5001
2021-06-30 22:30:39.295 +04:30 [INF] Now listening on: http://localhost:5000
2021-06-30 22:30:39.298 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2021-06-30 22:30:39.300 +04:30 [INF] Hosting environment: Development
2021-06-30 22:30:39.302 +04:30 [INF] Content root path: C:\Users\kavan\source\repos\Raimun\WebApi
2021-06-30 22:30:40.898 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-06-30 22:30:41.060 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 162.2839ms
2021-06-30 22:30:41.414 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-06-30 22:30:41.682 +04:30 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - WebApi.Controllers.weatherController.SaveInfo (WebApi). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwagger(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-06-30 22:30:41.778 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 500 - text/plain 364.3765ms
2021-06-30 22:35:37.037 +04:30 [INF] 2 servers were removed due to timeout
2021-06-30 22:39:27.650 +04:30 [INF] Starting up
2021-06-30 22:39:31.168 +04:30 [INF] User profile is available. Using 'C:\Users\kavan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-30 22:39:31.381 +04:30 [INF] Start installing Hangfire SQL objects...
2021-06-30 22:39:32.111 +04:30 [INF] Hangfire SQL objects installed.
2021-06-30 22:39:32.253 +04:30 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@RaimunDbContext'
2021-06-30 22:39:32.255 +04:30 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2021-06-30 22:39:32.256 +04:30 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2021-06-30 22:39:33.044 +04:30 [INF] Server desktop-7hkhhu2:30572:e283fd87 successfully announced in 736/4149 ms
2021-06-30 22:39:33.060 +04:30 [INF] Server desktop-7hkhhu2:30572:e283fd87 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2021-06-30 22:39:33.386 +04:30 [INF] Server desktop-7hkhhu2:30572:e283fd87 all the dispatchers started
2021-06-30 22:39:34.429 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 22:39:35.194 +04:30 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 22:39:35.234 +04:30 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 22:39:35.241 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 22:39:35.245 +04:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 22:39:35.275 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-06-30 22:39:35.298 +04:30 [INF] No migrations were applied. The database is already up to date.
2021-06-30 22:39:35.763 +04:30 [INF] Now listening on: https://localhost:5001
2021-06-30 22:39:35.766 +04:30 [INF] Now listening on: http://localhost:5000
2021-06-30 22:39:35.770 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2021-06-30 22:39:35.772 +04:30 [INF] Hosting environment: Development
2021-06-30 22:39:35.775 +04:30 [INF] Content root path: C:\Users\kavan\source\repos\Raimun\WebApi
2021-06-30 22:39:36.966 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-06-30 22:39:37.150 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 183.5153ms
2021-06-30 22:39:37.415 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-06-30 22:39:37.729 +04:30 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - WebApi.Controllers.weatherController.SaveInfo (WebApi). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwagger(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-06-30 22:39:37.808 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 500 - text/plain 393.1438ms
2021-06-30 22:40:46.634 +04:30 [INF] Starting up
2021-06-30 22:40:48.973 +04:30 [INF] User profile is available. Using 'C:\Users\kavan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-30 22:40:49.032 +04:30 [INF] Start installing Hangfire SQL objects...
2021-06-30 22:40:49.369 +04:30 [INF] Hangfire SQL objects installed.
2021-06-30 22:40:49.487 +04:30 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@RaimunDbContext'
2021-06-30 22:40:49.489 +04:30 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2021-06-30 22:40:49.490 +04:30 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2021-06-30 22:40:49.915 +04:30 [INF] Server desktop-7hkhhu2:2272:4652bd50 successfully announced in 372/9674 ms
2021-06-30 22:40:49.931 +04:30 [INF] Server desktop-7hkhhu2:2272:4652bd50 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2021-06-30 22:40:50.242 +04:30 [INF] Server desktop-7hkhhu2:2272:4652bd50 all the dispatchers started
2021-06-30 22:40:51.183 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 22:40:51.559 +04:30 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 22:40:51.600 +04:30 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 22:40:51.609 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 22:40:51.615 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 22:40:51.643 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-06-30 22:40:51.667 +04:30 [INF] No migrations were applied. The database is already up to date.
2021-06-30 22:40:52.084 +04:30 [INF] Now listening on: https://localhost:5001
2021-06-30 22:40:52.086 +04:30 [INF] Now listening on: http://localhost:5000
2021-06-30 22:40:52.088 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2021-06-30 22:40:52.090 +04:30 [INF] Hosting environment: Development
2021-06-30 22:40:52.092 +04:30 [INF] Content root path: C:\Users\kavan\source\repos\Raimun\WebApi
2021-06-30 22:40:53.476 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-06-30 22:40:53.707 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 235.3181ms
2021-06-30 22:40:54.172 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-06-30 22:40:54.533 +04:30 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - WebApi.Controllers.weatherController.SaveInfo (WebApi). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwagger(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-06-30 22:40:54.664 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 500 - text/plain 492.6084ms
2021-06-30 22:41:35.506 +04:30 [INF] Starting up
2021-06-30 22:41:37.739 +04:30 [INF] User profile is available. Using 'C:\Users\kavan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-30 22:41:37.815 +04:30 [INF] Start installing Hangfire SQL objects...
2021-06-30 22:41:38.294 +04:30 [INF] Hangfire SQL objects installed.
2021-06-30 22:41:38.432 +04:30 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@RaimunDbContext'
2021-06-30 22:41:38.434 +04:30 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2021-06-30 22:41:38.435 +04:30 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2021-06-30 22:41:38.806 +04:30 [INF] Server desktop-7hkhhu2:6048:cc9b281e successfully announced in 320/9084 ms
2021-06-30 22:41:38.822 +04:30 [INF] Server desktop-7hkhhu2:6048:cc9b281e is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2021-06-30 22:41:39.157 +04:30 [INF] Server desktop-7hkhhu2:6048:cc9b281e all the dispatchers started
2021-06-30 22:41:40.216 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 22:41:40.619 +04:30 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 22:41:40.672 +04:30 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 22:41:40.684 +04:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 22:41:40.690 +04:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 22:41:40.724 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-06-30 22:41:40.751 +04:30 [INF] No migrations were applied. The database is already up to date.
2021-06-30 22:41:41.158 +04:30 [INF] Now listening on: https://localhost:5001
2021-06-30 22:41:41.160 +04:30 [INF] Now listening on: http://localhost:5000
2021-06-30 22:41:41.162 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2021-06-30 22:41:41.164 +04:30 [INF] Hosting environment: Development
2021-06-30 22:41:41.166 +04:30 [INF] Content root path: C:\Users\kavan\source\repos\Raimun\WebApi
2021-06-30 22:41:42.358 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-06-30 22:41:42.535 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 177.0501ms
2021-06-30 22:41:42.836 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-06-30 22:41:43.132 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 296.1004ms
2021-06-30 22:41:47.740 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 53
2021-06-30 22:41:47.806 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 22:41:47.884 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 22:41:48.065 +04:30 [INF] Executing action method WebApi.Controllers.UserController.Token (WebApi) - Validation state: "Valid"
2021-06-30 22:41:50.583 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 22:41:51.054 +04:30 [INF] Executed DbCommand (45ms) [Parameters=[@__tokenRequest_username_0='?' (Size = 4000), @__tokenRequest_password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Stamp], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[UserName] = @__tokenRequest_username_0) AND ([u].[Password] = @__tokenRequest_password_1)
2021-06-30 22:41:51.286 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 3393.1766ms
2021-06-30 22:41:51.290 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 22:41:51.341 +04:30 [ERR] An unhandled exception has occurred while executing the request.
WebApi.Exceptions.BadRequestException: نام کاربری یا رمز عبور اشتباه میباشد.
   at WebApi.Controllers.UserController.Token(TokenRequest tokenRequest, CancellationToken cancellationToken) in C:\Users\kavan\source\repos\Raimun\WebApi\Controllers\UserController.cs:line 67
   at lambda_method13(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.ReDoc.ReDocMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-06-30 22:41:51.503 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 53 - 500 - text/plain 3763.1199ms
2021-06-30 22:41:58.538 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 53
2021-06-30 22:41:58.545 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 22:41:58.547 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 22:41:58.588 +04:30 [INF] Executing action method WebApi.Controllers.UserController.Token (WebApi) - Validation state: "Valid"
2021-06-30 22:42:00.565 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 22:42:00.575 +04:30 [INF] Executed DbCommand (3ms) [Parameters=[@__tokenRequest_username_0='?' (Size = 4000), @__tokenRequest_password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Stamp], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[UserName] = @__tokenRequest_username_0) AND ([u].[Password] = @__tokenRequest_password_1)
2021-06-30 22:42:00.699 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 2149.3178ms
2021-06-30 22:42:00.702 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 22:42:00.706 +04:30 [ERR] An unhandled exception has occurred while executing the request.
WebApi.Exceptions.BadRequestException: نام کاربری یا رمز عبور اشتباه میباشد.
   at WebApi.Controllers.UserController.Token(TokenRequest tokenRequest, CancellationToken cancellationToken) in C:\Users\kavan\source\repos\Raimun\WebApi\Controllers\UserController.cs:line 67
   at lambda_method13(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.ReDoc.ReDocMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-06-30 22:42:00.738 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 53 - 500 - text/plain 2200.1394ms
2021-06-30 22:42:08.240 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 56
2021-06-30 22:42:08.243 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 22:42:08.245 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 22:42:08.281 +04:30 [INF] Executing action method WebApi.Controllers.UserController.Token (WebApi) - Validation state: "Valid"
2021-06-30 22:42:09.675 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 22:42:09.737 +04:30 [INF] Executed DbCommand (6ms) [Parameters=[@__tokenRequest_username_0='?' (Size = 4000), @__tokenRequest_password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Stamp], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[UserName] = @__tokenRequest_username_0) AND ([u].[Password] = @__tokenRequest_password_1)
2021-06-30 22:42:11.307 +04:30 [WRN] متد Token فراخوانی شد توسط
2021-06-30 22:42:11.563 +04:30 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [Stamp] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2021-06-30 22:42:12.274 +04:30 [INF] Executed action method WebApi.Controllers.UserController.Token (WebApi), returned result Microsoft.AspNetCore.Mvc.JsonResult in 3985.6966ms.
2021-06-30 22:42:12.288 +04:30 [INF] Executing JsonResult, writing value of type 'WebApi.Configuration.JWT.AccessToken'.
2021-06-30 22:42:12.329 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 4078.0835ms
2021-06-30 22:42:12.333 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 22:42:12.339 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 56 - 200 - application/json;+charset=utf-8 4098.8991ms
2021-06-30 22:42:43.620 +04:30 [INF] Starting up
2021-06-30 22:42:45.967 +04:30 [INF] User profile is available. Using 'C:\Users\kavan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-30 22:42:46.041 +04:30 [INF] Start installing Hangfire SQL objects...
2021-06-30 22:42:46.538 +04:30 [INF] Hangfire SQL objects installed.
2021-06-30 22:42:46.658 +04:30 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@RaimunDbContext'
2021-06-30 22:42:46.659 +04:30 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2021-06-30 22:42:46.661 +04:30 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2021-06-30 22:42:47.117 +04:30 [INF] Server desktop-7hkhhu2:14928:37a31962 successfully announced in 399/7345 ms
2021-06-30 22:42:47.132 +04:30 [INF] Server desktop-7hkhhu2:14928:37a31962 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2021-06-30 22:42:47.489 +04:30 [INF] Server desktop-7hkhhu2:14928:37a31962 all the dispatchers started
2021-06-30 22:42:48.981 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 22:42:49.371 +04:30 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 22:42:49.417 +04:30 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 22:42:49.425 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 22:42:49.431 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 22:42:49.471 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-06-30 22:42:49.499 +04:30 [INF] No migrations were applied. The database is already up to date.
2021-06-30 22:42:49.886 +04:30 [INF] Now listening on: https://localhost:5001
2021-06-30 22:42:49.888 +04:30 [INF] Now listening on: http://localhost:5000
2021-06-30 22:42:49.890 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2021-06-30 22:42:49.891 +04:30 [INF] Hosting environment: Development
2021-06-30 22:42:49.894 +04:30 [INF] Content root path: C:\Users\kavan\source\repos\Raimun\WebApi
2021-06-30 22:42:50.931 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-06-30 22:42:51.073 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 142.7713ms
2021-06-30 22:42:51.365 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-06-30 22:42:51.571 +04:30 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - WebApi.Controllers.weatherController.SaveInfo (WebApi). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwagger(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-06-30 22:42:51.651 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 500 - text/plain 286.1001ms
2021-06-30 22:43:14.981 +04:30 [INF] Starting up
2021-06-30 22:43:16.931 +04:30 [INF] User profile is available. Using 'C:\Users\kavan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-30 22:43:16.989 +04:30 [INF] Start installing Hangfire SQL objects...
2021-06-30 22:43:17.322 +04:30 [INF] Hangfire SQL objects installed.
2021-06-30 22:43:17.507 +04:30 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@RaimunDbContext'
2021-06-30 22:43:17.509 +04:30 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2021-06-30 22:43:17.510 +04:30 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2021-06-30 22:43:17.995 +04:30 [INF] Server desktop-7hkhhu2:4688:eb8edd54 successfully announced in 431/6707 ms
2021-06-30 22:43:18.009 +04:30 [INF] Server desktop-7hkhhu2:4688:eb8edd54 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2021-06-30 22:43:18.606 +04:30 [INF] Server desktop-7hkhhu2:4688:eb8edd54 all the dispatchers started
2021-06-30 22:43:19.582 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 22:43:19.958 +04:30 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 22:43:20.001 +04:30 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 22:43:20.007 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 22:43:20.011 +04:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 22:43:20.041 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-06-30 22:43:20.063 +04:30 [INF] No migrations were applied. The database is already up to date.
2021-06-30 22:43:20.458 +04:30 [INF] Now listening on: https://localhost:5001
2021-06-30 22:43:20.460 +04:30 [INF] Now listening on: http://localhost:5000
2021-06-30 22:43:20.461 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2021-06-30 22:43:20.463 +04:30 [INF] Hosting environment: Development
2021-06-30 22:43:20.465 +04:30 [INF] Content root path: C:\Users\kavan\source\repos\Raimun\WebApi
2021-06-30 22:43:21.582 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-06-30 22:43:21.711 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 130.2149ms
2021-06-30 22:43:22.005 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-06-30 22:43:22.191 +04:30 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - WebApi.Controllers.weatherController.SaveInfo (WebApi). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwagger(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-06-30 22:43:22.268 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 500 - text/plain 262.7798ms
2021-06-30 22:46:30.904 +04:30 [INF] Starting up
2021-06-30 22:46:33.424 +04:30 [INF] User profile is available. Using 'C:\Users\kavan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-30 22:46:33.518 +04:30 [INF] Start installing Hangfire SQL objects...
2021-06-30 22:46:33.897 +04:30 [INF] Hangfire SQL objects installed.
2021-06-30 22:46:34.017 +04:30 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@RaimunDbContext'
2021-06-30 22:46:34.020 +04:30 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2021-06-30 22:46:34.021 +04:30 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2021-06-30 22:46:34.376 +04:30 [INF] Server desktop-7hkhhu2:30688:2c8c69df successfully announced in 309/6316 ms
2021-06-30 22:46:34.390 +04:30 [INF] Server desktop-7hkhhu2:30688:2c8c69df is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2021-06-30 22:46:34.478 +04:30 [INF] 3 servers were removed due to timeout
2021-06-30 22:46:34.711 +04:30 [INF] Server desktop-7hkhhu2:30688:2c8c69df all the dispatchers started
2021-06-30 22:46:35.630 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 22:46:36.002 +04:30 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 22:46:36.040 +04:30 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 22:46:36.049 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 22:46:36.054 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 22:46:36.085 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-06-30 22:46:36.108 +04:30 [INF] No migrations were applied. The database is already up to date.
2021-06-30 22:46:36.489 +04:30 [INF] Now listening on: https://localhost:5001
2021-06-30 22:46:36.491 +04:30 [INF] Now listening on: http://localhost:5000
2021-06-30 22:46:36.493 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2021-06-30 22:46:36.495 +04:30 [INF] Hosting environment: Development
2021-06-30 22:46:36.497 +04:30 [INF] Content root path: C:\Users\kavan\source\repos\Raimun\WebApi
2021-06-30 22:46:37.808 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-06-30 22:46:37.955 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 147.6079ms
2021-06-30 22:46:38.227 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-06-30 22:46:38.504 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 277.3388ms
2021-06-30 22:46:46.976 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 56
2021-06-30 22:46:47.025 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 22:46:47.083 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 22:46:47.239 +04:30 [INF] Executing action method WebApi.Controllers.UserController.Token (WebApi) - Validation state: "Valid"
2021-06-30 22:46:52.044 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 22:46:52.456 +04:30 [INF] Executed DbCommand (62ms) [Parameters=[@__tokenRequest_username_0='?' (Size = 4000), @__tokenRequest_password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Stamp], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[UserName] = @__tokenRequest_username_0) AND ([u].[Password] = @__tokenRequest_password_1)
2021-06-30 22:46:52.611 +04:30 [WRN] متد Token فراخوانی شد توسط
2021-06-30 22:46:52.719 +04:30 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [Stamp] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2021-06-30 22:46:53.000 +04:30 [INF] Executed action method WebApi.Controllers.UserController.Token (WebApi), returned result Microsoft.AspNetCore.Mvc.JsonResult in 5753.1905ms.
2021-06-30 22:46:53.016 +04:30 [INF] Executing JsonResult, writing value of type 'WebApi.Configuration.JWT.AccessToken'.
2021-06-30 22:46:53.049 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 5956.9542ms
2021-06-30 22:46:53.052 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 22:46:53.060 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 56 - 200 - application/json;+charset=utf-8 6084.5305ms
2021-06-30 22:47:01.765 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/v1/Waether/Get - -
2021-06-30 22:47:01.774 +04:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-06-30 22:47:02.027 +04:30 [INF] Successfully validated the token.
2021-06-30 22:47:02.075 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 22:47:02.196 +04:30 [ERR] Exception occurred while processing message.
System.ArgumentException: Entity type 'User' is defined with a single key property, but 2 values were passed to the 'DbSet.Find' method.
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindTracked(Object[] keyValues, IReadOnlyList`1& keyProperties)
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindAsync(Object[] keyValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.FindAsync(Object[] keyValues)
   at WebApi.Configuration.ServiceCollectionExtensions.<>c.<<AddJwtAuthentication>b__1_3>d.MoveNext() in C:\Users\kavan\source\repos\Raimun\WebApi\Configuration\ServiceCollectionExtensions.cs:line 98
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-06-30 22:47:21.271 +04:30 [ERR] An unhandled exception has occurred while executing the request.
WebApi.Exceptions.AppException: Authenticate failure.
 ---> WebApi.Exceptions.AppException: Authentication failed.
 ---> System.ArgumentException: Entity type 'User' is defined with a single key property, but 2 values were passed to the 'DbSet.Find' method.
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindTracked(Object[] keyValues, IReadOnlyList`1& keyProperties)
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindAsync(Object[] keyValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.FindAsync(Object[] keyValues)
   at WebApi.Configuration.ServiceCollectionExtensions.<>c.<<AddJwtAuthentication>b__1_3>d.MoveNext() in C:\Users\kavan\source\repos\Raimun\WebApi\Configuration\ServiceCollectionExtensions.cs:line 98
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
   --- End of inner exception stack trace ---
   at WebApi.Configuration.ServiceCollectionExtensions.<>c.<AddJwtAuthentication>b__1_2(AuthenticationFailedContext context) in C:\Users\kavan\source\repos\Raimun\WebApi\Configuration\ServiceCollectionExtensions.cs:line 75
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerEvents.AuthenticationFailed(AuthenticationFailedContext context)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.HandleAuthenticateOnceSafeAsync()
   --- End of inner exception stack trace ---
   at WebApi.Configuration.ServiceCollectionExtensions.<>c.<AddJwtAuthentication>b__1_4(JwtBearerChallengeContext context) in C:\Users\kavan\source\repos\Raimun\WebApi\Configuration\ServiceCollectionExtensions.cs:line 111
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerEvents.Challenge(JwtBearerChallengeContext context)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.ChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.ReDoc.ReDocMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-06-30 22:47:21.321 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/v1/Waether/Get - - - 500 - text/plain 19555.7267ms
2021-06-30 22:47:25.785 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/v1/Waether/Get - -
2021-06-30 22:47:25.788 +04:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-06-30 22:47:25.791 +04:30 [INF] Successfully validated the token.
2021-06-30 22:47:53.194 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 22:47:53.325 +04:30 [ERR] Exception occurred while processing message.
System.ArgumentException: Entity type 'User' is defined with a single key property, but 2 values were passed to the 'DbSet.Find' method.
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindTracked(Object[] keyValues, IReadOnlyList`1& keyProperties)
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindAsync(Object[] keyValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.FindAsync(Object[] keyValues)
   at WebApi.Configuration.ServiceCollectionExtensions.<>c.<<AddJwtAuthentication>b__1_3>d.MoveNext() in C:\Users\kavan\source\repos\Raimun\WebApi\Configuration\ServiceCollectionExtensions.cs:line 98
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-06-30 22:48:25.211 +04:30 [INF] Starting up
2021-06-30 22:48:27.853 +04:30 [INF] User profile is available. Using 'C:\Users\kavan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-30 22:48:27.927 +04:30 [INF] Start installing Hangfire SQL objects...
2021-06-30 22:48:28.453 +04:30 [INF] Hangfire SQL objects installed.
2021-06-30 22:48:28.610 +04:30 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@RaimunDbContext'
2021-06-30 22:48:28.612 +04:30 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2021-06-30 22:48:28.613 +04:30 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2021-06-30 22:48:29.000 +04:30 [INF] Server desktop-7hkhhu2:23776:8e0f5838 successfully announced in 342/9759 ms
2021-06-30 22:48:29.017 +04:30 [INF] Server desktop-7hkhhu2:23776:8e0f5838 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2021-06-30 22:48:29.098 +04:30 [INF] 3 servers were removed due to timeout
2021-06-30 22:48:29.391 +04:30 [INF] Server desktop-7hkhhu2:23776:8e0f5838 all the dispatchers started
2021-06-30 22:48:30.373 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 22:48:30.726 +04:30 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 22:48:30.767 +04:30 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 22:48:30.776 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 22:48:30.780 +04:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 22:48:30.811 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-06-30 22:48:30.833 +04:30 [INF] No migrations were applied. The database is already up to date.
2021-06-30 22:48:31.221 +04:30 [INF] Now listening on: https://localhost:5001
2021-06-30 22:48:31.223 +04:30 [INF] Now listening on: http://localhost:5000
2021-06-30 22:48:31.225 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2021-06-30 22:48:31.227 +04:30 [INF] Hosting environment: Development
2021-06-30 22:48:31.230 +04:30 [INF] Content root path: C:\Users\kavan\source\repos\Raimun\WebApi
2021-06-30 22:48:32.205 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-06-30 22:48:32.377 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 170.9013ms
2021-06-30 22:48:32.694 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-06-30 22:48:32.984 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 289.3278ms
2021-06-30 22:48:39.192 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/v1/Waether/Get - -
2021-06-30 22:48:39.253 +04:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-06-30 22:48:43.460 +04:30 [ERR] An unhandled exception has occurred while executing the request.
WebApi.Exceptions.AppException: You are unauthorized to access this resource.
   at WebApi.Configuration.ServiceCollectionExtensions.<>c.<AddJwtAuthentication>b__1_4(JwtBearerChallengeContext context) in C:\Users\kavan\source\repos\Raimun\WebApi\Configuration\ServiceCollectionExtensions.cs:line 112
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerEvents.Challenge(JwtBearerChallengeContext context)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.ChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.ReDoc.ReDocMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-06-30 22:48:43.577 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/v1/Waether/Get - - - 500 - text/plain 4384.9854ms
2021-06-30 22:48:48.567 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 56
2021-06-30 22:48:48.572 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 22:48:48.626 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 22:48:48.780 +04:30 [INF] Executing action method WebApi.Controllers.UserController.Token (WebApi) - Validation state: "Valid"
2021-06-30 22:48:48.801 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 22:48:49.166 +04:30 [INF] Executed DbCommand (34ms) [Parameters=[@__tokenRequest_username_0='?' (Size = 4000), @__tokenRequest_password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Stamp], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[UserName] = @__tokenRequest_username_0) AND ([u].[Password] = @__tokenRequest_password_1)
2021-06-30 22:48:49.250 +04:30 [WRN] متد Token فراخوانی شد توسط
2021-06-30 22:48:49.363 +04:30 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [Stamp] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2021-06-30 22:48:49.572 +04:30 [INF] Executed action method WebApi.Controllers.UserController.Token (WebApi), returned result Microsoft.AspNetCore.Mvc.JsonResult in 783.5245ms.
2021-06-30 22:48:49.589 +04:30 [INF] Executing JsonResult, writing value of type 'WebApi.Configuration.JWT.AccessToken'.
2021-06-30 22:48:49.621 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 983.7279ms
2021-06-30 22:48:49.624 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 22:48:49.631 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 56 - 200 - application/json;+charset=utf-8 1064.0480ms
2021-06-30 22:48:51.591 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/v1/Waether/Get - -
2021-06-30 22:48:51.595 +04:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-06-30 22:48:51.684 +04:30 [INF] Successfully validated the token.
2021-06-30 22:48:56.729 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 22:48:56.760 +04:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Stamp], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2021-06-30 22:48:59.996 +04:30 [INF] Executed DbCommand (4ms) [Parameters=[@__Parse_0='?' (DbType = Guid), @__user_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE ([u].[Stamp] = @__Parse_0) AND ([u].[Id] = @__user_Id_1)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2021-06-30 22:49:05.156 +04:30 [ERR] An unhandled exception has occurred while executing the request.
WebApi.Exceptions.AppException: You are unauthorized to access this resource.
   at WebApi.Configuration.ServiceCollectionExtensions.<>c.<AddJwtAuthentication>b__1_4(JwtBearerChallengeContext context) in C:\Users\kavan\source\repos\Raimun\WebApi\Configuration\ServiceCollectionExtensions.cs:line 112
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerEvents.Challenge(JwtBearerChallengeContext context)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.ChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.ReDoc.ReDocMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-06-30 22:49:05.170 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/v1/Waether/Get - - - 500 - text/plain 13579.1148ms
2021-06-30 22:49:11.226 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/v1/Waether/Get - -
2021-06-30 22:49:11.228 +04:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-06-30 22:49:11.235 +04:30 [INF] Successfully validated the token.
2021-06-30 22:49:16.774 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 22:49:16.783 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Stamp], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2021-06-30 22:49:19.779 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[@__Parse_0='?' (DbType = Guid), @__user_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE ([u].[Stamp] = @__Parse_0) AND ([u].[Id] = @__user_Id_1)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2021-06-30 22:50:51.773 +04:30 [ERR] An unhandled exception has occurred while executing the request.
WebApi.Exceptions.AppException: You are unauthorized to access this resource.
   at WebApi.Configuration.ServiceCollectionExtensions.<>c.<AddJwtAuthentication>b__1_4(JwtBearerChallengeContext context) in C:\Users\kavan\source\repos\Raimun\WebApi\Configuration\ServiceCollectionExtensions.cs:line 112
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerEvents.Challenge(JwtBearerChallengeContext context)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.ChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.ReDoc.ReDocMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-06-30 22:50:51.787 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/v1/Waether/Get - - - 500 - text/plain 100560.9860ms
2021-06-30 22:51:09.557 +04:30 [INF] Starting up
2021-06-30 22:51:12.205 +04:30 [INF] User profile is available. Using 'C:\Users\kavan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-30 22:51:12.276 +04:30 [INF] Start installing Hangfire SQL objects...
2021-06-30 22:51:12.610 +04:30 [INF] Hangfire SQL objects installed.
2021-06-30 22:51:12.747 +04:30 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@RaimunDbContext'
2021-06-30 22:51:12.749 +04:30 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2021-06-30 22:51:12.751 +04:30 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2021-06-30 22:51:13.173 +04:30 [INF] Server desktop-7hkhhu2:25300:d6b54e2b successfully announced in 367/0677 ms
2021-06-30 22:51:13.188 +04:30 [INF] Server desktop-7hkhhu2:25300:d6b54e2b is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2021-06-30 22:51:13.569 +04:30 [INF] Server desktop-7hkhhu2:25300:d6b54e2b all the dispatchers started
2021-06-30 22:51:14.590 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 22:51:14.959 +04:30 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 22:51:14.999 +04:30 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 22:51:15.007 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 22:51:15.012 +04:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 22:51:15.042 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-06-30 22:51:15.065 +04:30 [INF] No migrations were applied. The database is already up to date.
2021-06-30 22:51:15.448 +04:30 [INF] Now listening on: https://localhost:5001
2021-06-30 22:51:15.450 +04:30 [INF] Now listening on: http://localhost:5000
2021-06-30 22:51:15.452 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2021-06-30 22:51:15.453 +04:30 [INF] Hosting environment: Development
2021-06-30 22:51:15.455 +04:30 [INF] Content root path: C:\Users\kavan\source\repos\Raimun\WebApi
2021-06-30 22:51:16.662 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-06-30 22:51:16.843 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 182.5750ms
2021-06-30 22:51:17.158 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-06-30 22:51:17.536 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 378.3332ms
2021-06-30 22:51:20.143 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 56
2021-06-30 22:51:20.199 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 22:51:20.257 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 22:51:20.574 +04:30 [INF] Executing action method WebApi.Controllers.UserController.Token (WebApi) - Validation state: "Valid"
2021-06-30 22:51:20.616 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 22:51:21.005 +04:30 [INF] Executed DbCommand (34ms) [Parameters=[@__tokenRequest_username_0='?' (Size = 4000), @__tokenRequest_password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Stamp], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[UserName] = @__tokenRequest_username_0) AND ([u].[Password] = @__tokenRequest_password_1)
2021-06-30 22:51:21.186 +04:30 [WRN] متد Token فراخوانی شد توسط
2021-06-30 22:51:21.327 +04:30 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [Stamp] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2021-06-30 22:51:21.620 +04:30 [INF] Executed action method WebApi.Controllers.UserController.Token (WebApi), returned result Microsoft.AspNetCore.Mvc.JsonResult in 1021.324ms.
2021-06-30 22:51:21.697 +04:30 [INF] Executing JsonResult, writing value of type 'WebApi.Configuration.JWT.AccessToken'.
2021-06-30 22:51:21.747 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 1477.3301ms
2021-06-30 22:51:21.749 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 22:51:21.756 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 56 - 200 - application/json;+charset=utf-8 1613.3293ms
2021-06-30 22:51:33.731 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/v1/Waether/Get - -
2021-06-30 22:51:33.740 +04:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-06-30 22:51:33.893 +04:30 [INF] Successfully validated the token.
2021-06-30 22:51:39.065 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 22:51:39.096 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Stamp], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2021-06-30 22:51:40.319 +04:30 [INF] Executed DbCommand (3ms) [Parameters=[@__Parse_0='?' (DbType = Guid), @__user_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE ([u].[Stamp] = @__Parse_0) AND ([u].[Id] = @__user_Id_1)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2021-06-30 22:53:00.661 +04:30 [INF] Starting up
2021-06-30 22:53:03.124 +04:30 [INF] User profile is available. Using 'C:\Users\kavan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-30 22:53:03.186 +04:30 [INF] Start installing Hangfire SQL objects...
2021-06-30 22:53:03.532 +04:30 [INF] Hangfire SQL objects installed.
2021-06-30 22:53:03.663 +04:30 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@RaimunDbContext'
2021-06-30 22:53:03.665 +04:30 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2021-06-30 22:53:03.667 +04:30 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2021-06-30 22:53:04.051 +04:30 [INF] Server desktop-7hkhhu2:2504:d3b0119e successfully announced in 334/019 ms
2021-06-30 22:53:04.068 +04:30 [INF] Server desktop-7hkhhu2:2504:d3b0119e is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2021-06-30 22:53:04.159 +04:30 [INF] 1 servers were removed due to timeout
2021-06-30 22:53:04.403 +04:30 [INF] Server desktop-7hkhhu2:2504:d3b0119e all the dispatchers started
2021-06-30 22:53:05.336 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 22:53:05.708 +04:30 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 22:53:05.749 +04:30 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 22:53:05.756 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 22:53:05.760 +04:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 22:53:05.790 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-06-30 22:53:05.815 +04:30 [INF] No migrations were applied. The database is already up to date.
2021-06-30 22:53:06.206 +04:30 [INF] Now listening on: https://localhost:5001
2021-06-30 22:53:06.208 +04:30 [INF] Now listening on: http://localhost:5000
2021-06-30 22:53:06.210 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2021-06-30 22:53:06.213 +04:30 [INF] Hosting environment: Development
2021-06-30 22:53:06.214 +04:30 [INF] Content root path: C:\Users\kavan\source\repos\Raimun\WebApi
2021-06-30 22:53:07.286 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-06-30 22:53:07.424 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 137.5769ms
2021-06-30 22:53:07.736 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-06-30 22:53:08.040 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 303.9456ms
2021-06-30 22:53:13.730 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 56
2021-06-30 22:53:13.782 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 22:53:13.841 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 22:53:14.008 +04:30 [INF] Executing action method WebApi.Controllers.UserController.Token (WebApi) - Validation state: "Valid"
2021-06-30 22:53:14.030 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 22:53:14.510 +04:30 [INF] Executed DbCommand (108ms) [Parameters=[@__tokenRequest_username_0='?' (Size = 4000), @__tokenRequest_password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Stamp], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[UserName] = @__tokenRequest_username_0) AND ([u].[Password] = @__tokenRequest_password_1)
2021-06-30 22:53:14.728 +04:30 [WRN] متد Token فراخوانی شد توسط
2021-06-30 22:53:14.928 +04:30 [INF] Executed DbCommand (85ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [Stamp] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2021-06-30 22:53:15.199 +04:30 [INF] Executed action method WebApi.Controllers.UserController.Token (WebApi), returned result Microsoft.AspNetCore.Mvc.JsonResult in 1182.7382ms.
2021-06-30 22:53:15.214 +04:30 [INF] Executing JsonResult, writing value of type 'WebApi.Configuration.JWT.AccessToken'.
2021-06-30 22:53:15.249 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 1399.3443ms
2021-06-30 22:53:15.252 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 22:53:15.259 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 56 - 200 - application/json;+charset=utf-8 1529.4402ms
2021-06-30 22:53:20.163 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/v1/Waether/Get - -
2021-06-30 22:53:20.178 +04:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-06-30 22:53:20.394 +04:30 [INF] Successfully validated the token.
2021-06-30 22:53:25.324 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 22:53:25.357 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Stamp], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2021-06-30 22:53:25.395 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[@__Parse_0='?' (DbType = Guid), @__user_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE ([u].[Stamp] = @__Parse_0) AND ([u].[Id] = @__user_Id_1)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2021-06-30 22:53:25.410 +04:30 [INF] AuthenticationScheme: Bearer was challenged.
2021-06-30 22:53:25.414 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/v1/Waether/Get - - - 401 0 - 5250.9208ms
2021-06-30 22:53:39.993 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/v1/Waether/Get - -
2021-06-30 22:53:39.999 +04:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-06-30 22:53:40.009 +04:30 [INF] AuthenticationScheme: Bearer was challenged.
2021-06-30 22:53:40.013 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/v1/Waether/Get - - - 401 0 - 19.3110ms
2021-06-30 22:55:01.704 +04:30 [INF] Starting up
2021-06-30 22:55:04.043 +04:30 [INF] User profile is available. Using 'C:\Users\kavan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-30 22:55:04.101 +04:30 [INF] Start installing Hangfire SQL objects...
2021-06-30 22:55:04.440 +04:30 [INF] Hangfire SQL objects installed.
2021-06-30 22:55:04.571 +04:30 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@RaimunDbContext'
2021-06-30 22:55:04.573 +04:30 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2021-06-30 22:55:04.574 +04:30 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2021-06-30 22:55:04.953 +04:30 [INF] Server desktop-7hkhhu2:29644:0c550d90 successfully announced in 330/7532 ms
2021-06-30 22:55:04.967 +04:30 [INF] Server desktop-7hkhhu2:29644:0c550d90 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2021-06-30 22:55:05.253 +04:30 [INF] Server desktop-7hkhhu2:29644:0c550d90 all the dispatchers started
2021-06-30 22:55:06.272 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 22:55:06.657 +04:30 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 22:55:06.698 +04:30 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 22:55:06.706 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 22:55:06.710 +04:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 22:55:06.737 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-06-30 22:55:06.760 +04:30 [INF] No migrations were applied. The database is already up to date.
2021-06-30 22:55:07.191 +04:30 [INF] Now listening on: https://localhost:5001
2021-06-30 22:55:07.193 +04:30 [INF] Now listening on: http://localhost:5000
2021-06-30 22:55:07.195 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2021-06-30 22:55:07.196 +04:30 [INF] Hosting environment: Development
2021-06-30 22:55:07.199 +04:30 [INF] Content root path: C:\Users\kavan\source\repos\Raimun\WebApi
2021-06-30 22:55:08.530 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-06-30 22:55:08.709 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 178.6134ms
2021-06-30 22:55:09.098 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-06-30 22:55:09.496 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 398.4555ms
2021-06-30 22:55:16.514 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/v1/Waether/Get - -
2021-06-30 22:55:16.578 +04:30 [INF] Executing endpoint 'WebApi.Controllers.WaetherController.Get (WebApi)'
2021-06-30 22:55:16.621 +04:30 [INF] Route matched with {action = "Get", controller = "Waether"}. Executing controller action with signature System.Threading.Tasks.Task`1[WebApi.Configuration.ApiResult`1[WebApi.ViewModels.Location]] Get() on controller WebApi.Controllers.WaetherController (WebApi).
2021-06-30 22:55:16.633 +04:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-06-30 22:55:16.637 +04:30 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2021-06-30 22:55:16.646 +04:30 [INF] Executing ChallengeResult with authentication schemes ([]).
2021-06-30 22:58:36.018 +04:30 [INF] Executed action WebApi.Controllers.WaetherController.Get (WebApi) in 199388.3509ms
2021-06-30 22:58:36.022 +04:30 [INF] Executed endpoint 'WebApi.Controllers.WaetherController.Get (WebApi)'
2021-06-30 22:58:36.026 +04:30 [ERR] An unhandled exception has occurred while executing the request.
WebApi.Exceptions.AppException: You are unauthorized to access this resource.
   at WebApi.Configuration.ServiceCollectionExtensions.<>c.<AddJwtAuthentication>b__1_4(JwtBearerChallengeContext context) in C:\Users\kavan\source\repos\Raimun\WebApi\Configuration\ServiceCollectionExtensions.cs:line 111
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerEvents.Challenge(JwtBearerChallengeContext context)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.ChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Mvc.ChallengeResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|21_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeAlwaysRunResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.ReDoc.ReDocMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-06-30 22:58:36.171 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/v1/Waether/Get - - - 500 - text/plain 199656.7117ms
2021-06-30 22:58:41.569 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 56
2021-06-30 22:58:41.573 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 22:58:41.591 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 22:58:41.722 +04:30 [INF] Executing action method WebApi.Controllers.UserController.Token (WebApi) - Validation state: "Valid"
2021-06-30 22:58:41.743 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 22:58:42.114 +04:30 [INF] Executed DbCommand (34ms) [Parameters=[@__tokenRequest_username_0='?' (Size = 4000), @__tokenRequest_password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Stamp], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[UserName] = @__tokenRequest_username_0) AND ([u].[Password] = @__tokenRequest_password_1)
2021-06-30 22:58:42.197 +04:30 [WRN] متد Token فراخوانی شد توسط
2021-06-30 22:58:42.322 +04:30 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [Stamp] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2021-06-30 22:58:42.507 +04:30 [INF] Executed action method WebApi.Controllers.UserController.Token (WebApi), returned result Microsoft.AspNetCore.Mvc.JsonResult in 777.5866ms.
2021-06-30 22:58:42.521 +04:30 [INF] Executing JsonResult, writing value of type 'WebApi.Configuration.JWT.AccessToken'.
2021-06-30 22:58:42.549 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 951.6756ms
2021-06-30 22:58:42.552 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 22:58:42.560 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 56 - 200 - application/json;+charset=utf-8 991.8730ms
2021-06-30 22:58:45.946 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/v1/Waether/Get - -
2021-06-30 22:58:45.948 +04:30 [INF] Executing endpoint 'WebApi.Controllers.WaetherController.Get (WebApi)'
2021-06-30 22:58:45.951 +04:30 [INF] Route matched with {action = "Get", controller = "Waether"}. Executing controller action with signature System.Threading.Tasks.Task`1[WebApi.Configuration.ApiResult`1[WebApi.ViewModels.Location]] Get() on controller WebApi.Controllers.WaetherController (WebApi).
2021-06-30 22:58:45.958 +04:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-06-30 22:58:45.963 +04:30 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2021-06-30 22:58:45.965 +04:30 [INF] Executing ChallengeResult with authentication schemes ([]).
2021-06-30 22:58:46.048 +04:30 [INF] Successfully validated the token.
2021-06-30 22:58:50.775 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 22:58:50.809 +04:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Stamp], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2021-06-30 22:58:50.838 +04:30 [INF] Executed DbCommand (3ms) [Parameters=[@__Parse_0='?' (DbType = Guid), @__user_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE ([u].[Stamp] = @__Parse_0) AND ([u].[Id] = @__user_Id_1)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2021-06-30 23:03:09.833 +04:30 [INF] Starting up
2021-06-30 23:03:12.379 +04:30 [INF] User profile is available. Using 'C:\Users\kavan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-30 23:03:12.483 +04:30 [INF] Start installing Hangfire SQL objects...
2021-06-30 23:03:12.874 +04:30 [INF] Hangfire SQL objects installed.
2021-06-30 23:03:13.000 +04:30 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@RaimunDbContext'
2021-06-30 23:03:13.002 +04:30 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2021-06-30 23:03:13.003 +04:30 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2021-06-30 23:03:13.454 +04:30 [INF] Server desktop-7hkhhu2:11048:506d9441 successfully announced in 403/8128 ms
2021-06-30 23:03:13.469 +04:30 [INF] Server desktop-7hkhhu2:11048:506d9441 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2021-06-30 23:03:13.560 +04:30 [INF] 3 servers were removed due to timeout
2021-06-30 23:03:13.900 +04:30 [INF] Server desktop-7hkhhu2:11048:506d9441 all the dispatchers started
2021-06-30 23:03:15.033 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 23:03:15.402 +04:30 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 23:03:15.442 +04:30 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 23:03:15.452 +04:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 23:03:15.456 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 23:03:15.501 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-06-30 23:03:15.523 +04:30 [INF] No migrations were applied. The database is already up to date.
2021-06-30 23:03:16.108 +04:30 [INF] Now listening on: https://localhost:5001
2021-06-30 23:03:16.110 +04:30 [INF] Now listening on: http://localhost:5000
2021-06-30 23:03:16.112 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2021-06-30 23:03:16.114 +04:30 [INF] Hosting environment: Development
2021-06-30 23:03:16.116 +04:30 [INF] Content root path: C:\Users\kavan\source\repos\Raimun\WebApi
2021-06-30 23:03:17.748 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-06-30 23:03:17.886 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 138.9496ms
2021-06-30 23:03:18.271 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-06-30 23:03:18.681 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 410.8195ms
2021-06-30 23:03:22.325 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 56
2021-06-30 23:03:22.387 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 23:03:22.445 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 23:03:22.609 +04:30 [INF] Executing action method WebApi.Controllers.UserController.Token (WebApi) - Validation state: "Valid"
2021-06-30 23:03:22.631 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 23:03:23.215 +04:30 [INF] Executed DbCommand (34ms) [Parameters=[@__tokenRequest_username_0='?' (Size = 4000), @__tokenRequest_password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Stamp], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[UserName] = @__tokenRequest_username_0) AND ([u].[Password] = @__tokenRequest_password_1)
2021-06-30 23:03:23.302 +04:30 [WRN] متد Token فراخوانی شد توسط
2021-06-30 23:03:23.543 +04:30 [INF] Executed DbCommand (125ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [Stamp] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2021-06-30 23:03:23.649 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 56
2021-06-30 23:03:23.664 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 23:03:23.666 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 23:03:23.713 +04:30 [INF] Executing action method WebApi.Controllers.UserController.Token (WebApi) - Validation state: "Valid"
2021-06-30 23:03:23.751 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 23:03:23.761 +04:30 [INF] Executed DbCommand (3ms) [Parameters=[@__tokenRequest_username_0='?' (Size = 4000), @__tokenRequest_password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Stamp], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[UserName] = @__tokenRequest_username_0) AND ([u].[Password] = @__tokenRequest_password_1)
2021-06-30 23:03:23.766 +04:30 [WRN] متد Token فراخوانی شد توسط
2021-06-30 23:03:23.771 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [Stamp] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2021-06-30 23:03:23.862 +04:30 [INF] Executed action method WebApi.Controllers.UserController.Token (WebApi), returned result Microsoft.AspNetCore.Mvc.JsonResult in 1245.3363ms.
2021-06-30 23:03:23.862 +04:30 [INF] Executed action method WebApi.Controllers.UserController.Token (WebApi), returned result Microsoft.AspNetCore.Mvc.JsonResult in 141.5025ms.
2021-06-30 23:03:23.881 +04:30 [INF] Executing JsonResult, writing value of type 'WebApi.Configuration.JWT.AccessToken'.
2021-06-30 23:03:23.881 +04:30 [INF] Executing JsonResult, writing value of type 'WebApi.Configuration.JWT.AccessToken'.
2021-06-30 23:03:23.980 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 296.7247ms
2021-06-30 23:03:23.980 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 1519.2158ms
2021-06-30 23:03:23.992 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 23:03:23.999 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 23:03:24.016 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 56 - 200 - application/json;+charset=utf-8 1690.2878ms
2021-06-30 23:03:24.016 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 56 - 200 - application/json;+charset=utf-8 367.6511ms
2021-06-30 23:03:37.605 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/v1/Waether/Get - -
2021-06-30 23:03:37.608 +04:30 [INF] Executing endpoint 'WebApi.Controllers.WaetherController.Get (WebApi)'
2021-06-30 23:03:37.613 +04:30 [INF] Route matched with {action = "Get", controller = "Waether"}. Executing controller action with signature System.Threading.Tasks.Task`1[WebApi.Configuration.ApiResult`1[WebApi.ViewModels.Location]] Get() on controller WebApi.Controllers.WaetherController (WebApi).
2021-06-30 23:03:37.626 +04:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-06-30 23:03:37.630 +04:30 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2021-06-30 23:03:37.651 +04:30 [INF] Executing ChallengeResult with authentication schemes ([]).
2021-06-30 23:03:37.808 +04:30 [INF] Successfully validated the token.
2021-06-30 23:03:43.002 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 23:03:43.031 +04:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Stamp], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2021-06-30 23:03:43.058 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[@__Parse_0='?' (DbType = Guid), @__user_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE ([u].[Stamp] = @__Parse_0) AND ([u].[Id] = @__user_Id_1)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2021-06-30 23:04:22.698 +04:30 [INF] Executed action WebApi.Controllers.WaetherController.Get (WebApi) in 45078.6873ms
2021-06-30 23:04:22.701 +04:30 [INF] Executed endpoint 'WebApi.Controllers.WaetherController.Get (WebApi)'
2021-06-30 23:04:22.704 +04:30 [ERR] An unhandled exception has occurred while executing the request.
WebApi.Exceptions.AppException: You are unauthorized to access this resource.
   at WebApi.Configuration.ServiceCollectionExtensions.<>c.<AddJwtAuthentication>b__1_4(JwtBearerChallengeContext context) in C:\Users\kavan\source\repos\Raimun\WebApi\Configuration\ServiceCollectionExtensions.cs:line 111
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerEvents.Challenge(JwtBearerChallengeContext context)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.ChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Mvc.ChallengeResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|21_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAlwaysRunResultFilters>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.ReDoc.ReDocMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-06-30 23:04:22.885 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/v1/Waether/Get - - - 500 - text/plain 45279.9118ms
2021-06-30 23:08:45.820 +04:30 [INF] Starting up
2021-06-30 23:08:48.287 +04:30 [INF] User profile is available. Using 'C:\Users\kavan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-30 23:08:48.363 +04:30 [INF] Start installing Hangfire SQL objects...
2021-06-30 23:08:48.800 +04:30 [INF] Hangfire SQL objects installed.
2021-06-30 23:08:48.997 +04:30 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@RaimunDbContext'
2021-06-30 23:08:48.999 +04:30 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2021-06-30 23:08:49.000 +04:30 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2021-06-30 23:08:49.378 +04:30 [INF] Server desktop-7hkhhu2:14664:13e1265b successfully announced in 335/1039 ms
2021-06-30 23:08:49.394 +04:30 [INF] Server desktop-7hkhhu2:14664:13e1265b is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2021-06-30 23:08:49.488 +04:30 [INF] 1 servers were removed due to timeout
2021-06-30 23:08:49.756 +04:30 [INF] Server desktop-7hkhhu2:14664:13e1265b all the dispatchers started
2021-06-30 23:08:50.791 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 23:08:51.165 +04:30 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 23:08:51.205 +04:30 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 23:08:51.214 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 23:08:51.218 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 23:08:51.252 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-06-30 23:08:51.282 +04:30 [INF] No migrations were applied. The database is already up to date.
2021-06-30 23:08:51.822 +04:30 [INF] Now listening on: https://localhost:5001
2021-06-30 23:08:51.824 +04:30 [INF] Now listening on: http://localhost:5000
2021-06-30 23:08:51.826 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2021-06-30 23:08:51.828 +04:30 [INF] Hosting environment: Development
2021-06-30 23:08:51.830 +04:30 [INF] Content root path: C:\Users\kavan\source\repos\Raimun\WebApi
2021-06-30 23:08:53.450 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-06-30 23:08:53.861 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 412.0471ms
2021-06-30 23:08:54.225 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-06-30 23:08:54.654 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 429.4946ms
2021-06-30 23:08:57.815 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 56
2021-06-30 23:08:57.866 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 23:08:57.941 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 23:08:58.102 +04:30 [INF] Executing action method WebApi.Controllers.UserController.Token (WebApi) - Validation state: "Valid"
2021-06-30 23:08:58.128 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 23:08:58.696 +04:30 [INF] Executed DbCommand (35ms) [Parameters=[@__tokenRequest_username_0='?' (Size = 4000), @__tokenRequest_password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Stamp], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[UserName] = @__tokenRequest_username_0) AND ([u].[Password] = @__tokenRequest_password_1)
2021-06-30 23:08:58.799 +04:30 [WRN] متد Token فراخوانی شد توسط
2021-06-30 23:08:58.917 +04:30 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [Stamp] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2021-06-30 23:09:08.410 +04:30 [INF] Executed action method WebApi.Controllers.UserController.Token (WebApi), returned result Microsoft.AspNetCore.Mvc.JsonResult in 10299.3607ms.
2021-06-30 23:09:08.429 +04:30 [INF] Executing JsonResult, writing value of type 'WebApi.Configuration.JWT.AccessToken'.
2021-06-30 23:09:08.461 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 10510.7131ms
2021-06-30 23:09:08.464 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 23:09:08.472 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 56 - 200 - application/json;+charset=utf-8 10656.5849ms
2021-06-30 23:09:16.841 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/v1/Waether/Get - -
2021-06-30 23:09:16.859 +04:30 [INF] Executing endpoint 'WebApi.Controllers.WaetherController.Get (WebApi)'
2021-06-30 23:09:16.866 +04:30 [INF] Route matched with {action = "Get", controller = "Waether"}. Executing controller action with signature System.Threading.Tasks.Task`1[WebApi.Configuration.ApiResult`1[WebApi.ViewModels.Location]] Get() on controller WebApi.Controllers.WaetherController (WebApi).
2021-06-30 23:09:16.875 +04:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-06-30 23:09:16.878 +04:30 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2021-06-30 23:09:16.887 +04:30 [INF] Executing ChallengeResult with authentication schemes ([]).
2021-06-30 23:09:17.037 +04:30 [INF] Successfully validated the token.
2021-06-30 23:09:44.100 +04:30 [INF] Starting up
2021-06-30 23:09:46.416 +04:30 [INF] User profile is available. Using 'C:\Users\kavan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-30 23:09:46.483 +04:30 [INF] Start installing Hangfire SQL objects...
2021-06-30 23:09:46.909 +04:30 [INF] Hangfire SQL objects installed.
2021-06-30 23:09:47.086 +04:30 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@RaimunDbContext'
2021-06-30 23:09:47.088 +04:30 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2021-06-30 23:09:47.090 +04:30 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2021-06-30 23:09:47.527 +04:30 [INF] Server desktop-7hkhhu2:30148:2a8318e4 successfully announced in 353/4277 ms
2021-06-30 23:09:47.542 +04:30 [INF] Server desktop-7hkhhu2:30148:2a8318e4 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2021-06-30 23:09:47.989 +04:30 [INF] Server desktop-7hkhhu2:30148:2a8318e4 all the dispatchers started
2021-06-30 23:09:49.030 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 23:09:49.477 +04:30 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 23:09:49.516 +04:30 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 23:09:49.523 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 23:09:49.528 +04:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 23:09:49.557 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-06-30 23:09:49.582 +04:30 [INF] No migrations were applied. The database is already up to date.
2021-06-30 23:09:50.080 +04:30 [INF] Now listening on: https://localhost:5001
2021-06-30 23:09:50.084 +04:30 [INF] Now listening on: http://localhost:5000
2021-06-30 23:09:50.086 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2021-06-30 23:09:50.088 +04:30 [INF] Hosting environment: Development
2021-06-30 23:09:50.090 +04:30 [INF] Content root path: C:\Users\kavan\source\repos\Raimun\WebApi
2021-06-30 23:09:51.268 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-06-30 23:09:51.440 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 173.9670ms
2021-06-30 23:09:51.847 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-06-30 23:09:52.199 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 352.1302ms
2021-06-30 23:09:57.368 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/v1/Waether/Get - -
2021-06-30 23:09:57.432 +04:30 [INF] Executing endpoint 'WebApi.Controllers.WaetherController.Get (WebApi)'
2021-06-30 23:09:57.482 +04:30 [INF] Route matched with {action = "Get", controller = "Waether"}. Executing controller action with signature System.Threading.Tasks.Task`1[WebApi.Configuration.ApiResult`1[WebApi.ViewModels.Location]] Get() on controller WebApi.Controllers.WaetherController (WebApi).
2021-06-30 23:09:57.496 +04:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-06-30 23:09:57.500 +04:30 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2021-06-30 23:09:57.505 +04:30 [INF] Executing ChallengeResult with authentication schemes ([]).
2021-06-30 23:09:57.692 +04:30 [INF] AuthenticationScheme: Bearer was challenged.
2021-06-30 23:09:57.708 +04:30 [INF] Executed action WebApi.Controllers.WaetherController.Get (WebApi) in 214.7843ms
2021-06-30 23:09:57.718 +04:30 [INF] Executed endpoint 'WebApi.Controllers.WaetherController.Get (WebApi)'
2021-06-30 23:09:57.721 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/v1/Waether/Get - - - 401 0 - 352.4407ms
2021-06-30 23:10:00.556 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/v1/Waether/Get - -
2021-06-30 23:10:00.564 +04:30 [INF] Executing endpoint 'WebApi.Controllers.WaetherController.Get (WebApi)'
2021-06-30 23:10:00.567 +04:30 [INF] Route matched with {action = "Get", controller = "Waether"}. Executing controller action with signature System.Threading.Tasks.Task`1[WebApi.Configuration.ApiResult`1[WebApi.ViewModels.Location]] Get() on controller WebApi.Controllers.WaetherController (WebApi).
2021-06-30 23:10:00.578 +04:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-06-30 23:10:00.584 +04:30 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2021-06-30 23:10:00.589 +04:30 [INF] Executing ChallengeResult with authentication schemes ([]).
2021-06-30 23:10:00.592 +04:30 [INF] AuthenticationScheme: Bearer was challenged.
2021-06-30 23:10:00.596 +04:30 [INF] Executed action WebApi.Controllers.WaetherController.Get (WebApi) in 19.1176ms
2021-06-30 23:10:00.598 +04:30 [INF] Executed endpoint 'WebApi.Controllers.WaetherController.Get (WebApi)'
2021-06-30 23:10:00.600 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/v1/Waether/Get - - - 401 0 - 44.7239ms
2021-06-30 23:10:17.537 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 56
2021-06-30 23:10:17.539 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 23:10:17.559 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 23:10:17.813 +04:30 [INF] Executing action method WebApi.Controllers.UserController.Token (WebApi) - Validation state: "Valid"
2021-06-30 23:10:17.835 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 23:10:18.350 +04:30 [INF] Executed DbCommand (40ms) [Parameters=[@__tokenRequest_username_0='?' (Size = 4000), @__tokenRequest_password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Stamp], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[UserName] = @__tokenRequest_username_0) AND ([u].[Password] = @__tokenRequest_password_1)
2021-06-30 23:10:18.447 +04:30 [WRN] متد Token فراخوانی شد توسط
2021-06-30 23:10:18.646 +04:30 [INF] Executed DbCommand (90ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [Stamp] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2021-06-30 23:10:23.277 +04:30 [INF] Executed action method WebApi.Controllers.UserController.Token (WebApi), returned result Microsoft.AspNetCore.Mvc.JsonResult in 5457.0205ms.
2021-06-30 23:10:23.290 +04:30 [INF] Executing JsonResult, writing value of type 'WebApi.Configuration.JWT.AccessToken'.
2021-06-30 23:10:23.313 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 5750.2383ms
2021-06-30 23:10:23.317 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 23:10:23.325 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 56 - 200 - application/json;+charset=utf-8 5787.7736ms
2021-06-30 23:10:32.106 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/v1/Waether/Get - -
2021-06-30 23:10:32.110 +04:30 [INF] Executing endpoint 'WebApi.Controllers.WaetherController.Get (WebApi)'
2021-06-30 23:10:32.114 +04:30 [INF] Route matched with {action = "Get", controller = "Waether"}. Executing controller action with signature System.Threading.Tasks.Task`1[WebApi.Configuration.ApiResult`1[WebApi.ViewModels.Location]] Get() on controller WebApi.Controllers.WaetherController (WebApi).
2021-06-30 23:10:32.120 +04:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-06-30 23:10:32.125 +04:30 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2021-06-30 23:10:32.135 +04:30 [INF] Executing ChallengeResult with authentication schemes ([]).
2021-06-30 23:10:32.225 +04:30 [INF] Successfully validated the token.
2021-06-30 23:10:32.230 +04:30 [INF] AuthenticationScheme: Bearer was challenged.
2021-06-30 23:10:32.232 +04:30 [INF] Executed action WebApi.Controllers.WaetherController.Get (WebApi) in 112.3283ms
2021-06-30 23:10:32.234 +04:30 [INF] Executed endpoint 'WebApi.Controllers.WaetherController.Get (WebApi)'
2021-06-30 23:10:32.238 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/v1/Waether/Get - - - 401 0 - 131.7207ms
2021-06-30 23:11:48.968 +04:30 [INF] Starting up
2021-06-30 23:11:51.680 +04:30 [INF] User profile is available. Using 'C:\Users\kavan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-30 23:11:51.746 +04:30 [INF] Start installing Hangfire SQL objects...
2021-06-30 23:11:52.653 +04:30 [INF] Hangfire SQL objects installed.
2021-06-30 23:11:52.790 +04:30 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@RaimunDbContext'
2021-06-30 23:11:52.792 +04:30 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2021-06-30 23:11:52.793 +04:30 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2021-06-30 23:11:53.377 +04:30 [INF] Server desktop-7hkhhu2:3332:de9875aa successfully announced in 440/3594 ms
2021-06-30 23:11:53.414 +04:30 [INF] Server desktop-7hkhhu2:3332:de9875aa is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2021-06-30 23:11:53.539 +04:30 [INF] 1 servers were removed due to timeout
2021-06-30 23:11:53.874 +04:30 [INF] Server desktop-7hkhhu2:3332:de9875aa all the dispatchers started
2021-06-30 23:11:55.031 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 23:11:55.564 +04:30 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 23:11:55.608 +04:30 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 23:11:55.617 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 23:11:55.622 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 23:11:55.673 +04:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-06-30 23:11:55.709 +04:30 [INF] No migrations were applied. The database is already up to date.
2021-06-30 23:11:56.241 +04:30 [INF] Now listening on: https://localhost:5001
2021-06-30 23:11:56.243 +04:30 [INF] Now listening on: http://localhost:5000
2021-06-30 23:11:56.245 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2021-06-30 23:11:56.273 +04:30 [INF] Hosting environment: Development
2021-06-30 23:11:56.278 +04:30 [INF] Content root path: C:\Users\kavan\source\repos\Raimun\WebApi
2021-06-30 23:11:57.700 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-06-30 23:11:57.871 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 170.9026ms
2021-06-30 23:11:58.298 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-06-30 23:11:58.606 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 308.1475ms
2021-06-30 23:12:55.917 +04:30 [INF] Starting up
2021-06-30 23:12:58.181 +04:30 [INF] User profile is available. Using 'C:\Users\kavan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-30 23:12:58.261 +04:30 [INF] Start installing Hangfire SQL objects...
2021-06-30 23:12:58.800 +04:30 [INF] Hangfire SQL objects installed.
2021-06-30 23:12:58.956 +04:30 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@RaimunDbContext'
2021-06-30 23:12:58.958 +04:30 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2021-06-30 23:12:58.960 +04:30 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2021-06-30 23:12:59.598 +04:30 [INF] Server desktop-7hkhhu2:11144:0db6769e successfully announced in 569/8936 ms
2021-06-30 23:12:59.621 +04:30 [INF] Server desktop-7hkhhu2:11144:0db6769e is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2021-06-30 23:13:00.580 +04:30 [INF] Server desktop-7hkhhu2:11144:0db6769e all the dispatchers started
2021-06-30 23:13:01.519 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 23:13:02.085 +04:30 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 23:13:02.178 +04:30 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 23:13:02.195 +04:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 23:13:02.199 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 23:13:02.237 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-06-30 23:13:02.266 +04:30 [INF] No migrations were applied. The database is already up to date.
2021-06-30 23:13:02.684 +04:30 [INF] Now listening on: https://localhost:5001
2021-06-30 23:13:02.686 +04:30 [INF] Now listening on: http://localhost:5000
2021-06-30 23:13:02.694 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2021-06-30 23:13:02.696 +04:30 [INF] Hosting environment: Development
2021-06-30 23:13:02.698 +04:30 [INF] Content root path: C:\Users\kavan\source\repos\Raimun\WebApi
2021-06-30 23:13:04.251 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-06-30 23:13:04.526 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 274.6001ms
2021-06-30 23:13:04.865 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-06-30 23:13:05.201 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 335.1649ms
2021-06-30 23:13:10.495 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 56
2021-06-30 23:13:10.672 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 23:13:10.730 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 23:13:10.900 +04:30 [INF] Executing action method WebApi.Controllers.UserController.Token (WebApi) - Validation state: "Valid"
2021-06-30 23:13:10.921 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 23:13:11.407 +04:30 [INF] Executed DbCommand (36ms) [Parameters=[@__tokenRequest_username_0='?' (Size = 4000), @__tokenRequest_password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Stamp], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[UserName] = @__tokenRequest_username_0) AND ([u].[Password] = @__tokenRequest_password_1)
2021-06-30 23:13:11.557 +04:30 [WRN] متد Token فراخوانی شد توسط
2021-06-30 23:13:11.830 +04:30 [INF] Executed DbCommand (119ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [Stamp] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2021-06-30 23:13:12.027 +04:30 [INF] Executed action method WebApi.Controllers.UserController.Token (WebApi), returned result Microsoft.AspNetCore.Mvc.JsonResult in 1119.8929ms.
2021-06-30 23:13:12.041 +04:30 [INF] Executing JsonResult, writing value of type 'WebApi.Configuration.JWT.AccessToken'.
2021-06-30 23:13:12.075 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 1335.9794ms
2021-06-30 23:13:12.079 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 23:13:12.087 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 56 - 200 - application/json;+charset=utf-8 1592.1438ms
2021-06-30 23:13:17.160 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/v1/Waether/Get - -
2021-06-30 23:13:17.261 +04:30 [INF] Successfully validated the token.
2021-06-30 23:13:17.266 +04:30 [INF] Executing endpoint 'WebApi.Controllers.WaetherController.Get (WebApi)'
2021-06-30 23:13:17.272 +04:30 [INF] Route matched with {action = "Get", controller = "Waether"}. Executing controller action with signature System.Threading.Tasks.Task`1[WebApi.Configuration.ApiResult`1[WebApi.ViewModels.Location]] Get() on controller WebApi.Controllers.WaetherController (WebApi).
2021-06-30 23:13:17.280 +04:30 [INF] Authorization was successful.
2021-06-30 23:13:17.313 +04:30 [INF] Executing action method WebApi.Controllers.WaetherController.Get (WebApi) - Validation state: "Valid"
2021-06-30 23:13:17.327 +04:30 [INF] Executed action method WebApi.Controllers.WaetherController.Get (WebApi), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 11.0246ms.
2021-06-30 23:13:17.343 +04:30 [INF] Executing ObjectResult, writing value of type 'WebApi.Configuration.ApiResult`1[[WebApi.ViewModels.Location, WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-06-30 23:13:17.376 +04:30 [INF] Executed action WebApi.Controllers.WaetherController.Get (WebApi) in 100.4907ms
2021-06-30 23:13:17.385 +04:30 [INF] Executed endpoint 'WebApi.Controllers.WaetherController.Get (WebApi)'
2021-06-30 23:13:17.389 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/v1/Waether/Get - - - 200 86 application/json;+charset=utf-8 229.1508ms
2021-06-30 23:15:46.646 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/v1/Waether/Get - -
2021-06-30 23:15:46.650 +04:30 [INF] Successfully validated the token.
2021-06-30 23:15:46.652 +04:30 [INF] Executing endpoint 'WebApi.Controllers.WaetherController.Get (WebApi)'
2021-06-30 23:15:46.654 +04:30 [INF] Route matched with {action = "Get", controller = "Waether"}. Executing controller action with signature System.Threading.Tasks.Task`1[WebApi.Configuration.ApiResult`1[WebApi.ViewModels.Location]] Get() on controller WebApi.Controllers.WaetherController (WebApi).
2021-06-30 23:15:46.661 +04:30 [INF] Authorization was successful.
2021-06-30 23:15:46.693 +04:30 [INF] Executing action method WebApi.Controllers.WaetherController.Get (WebApi) - Validation state: "Valid"
2021-06-30 23:15:46.711 +04:30 [INF] Executed action method WebApi.Controllers.WaetherController.Get (WebApi), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 0.1643ms.
2021-06-30 23:15:46.715 +04:30 [INF] Executing ObjectResult, writing value of type 'WebApi.Configuration.ApiResult`1[[WebApi.ViewModels.Location, WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-06-30 23:15:46.718 +04:30 [INF] Executed action WebApi.Controllers.WaetherController.Get (WebApi) in 58.0738ms
2021-06-30 23:15:46.723 +04:30 [INF] Executed endpoint 'WebApi.Controllers.WaetherController.Get (WebApi)'
2021-06-30 23:15:46.727 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/v1/Waether/Get - - - 200 86 application/json;+charset=utf-8 81.4946ms
2021-06-30 23:16:00.311 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/v1/Waether/Get - -
2021-06-30 23:16:00.314 +04:30 [INF] Executing endpoint 'WebApi.Controllers.WaetherController.Get (WebApi)'
2021-06-30 23:16:00.317 +04:30 [INF] Route matched with {action = "Get", controller = "Waether"}. Executing controller action with signature System.Threading.Tasks.Task`1[WebApi.Configuration.ApiResult`1[WebApi.ViewModels.Location]] Get() on controller WebApi.Controllers.WaetherController (WebApi).
2021-06-30 23:16:00.325 +04:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-06-30 23:16:00.332 +04:30 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2021-06-30 23:16:00.345 +04:30 [INF] Executing ChallengeResult with authentication schemes ([]).
2021-06-30 23:18:08.054 +04:30 [INF] Starting up
2021-06-30 23:18:10.356 +04:30 [INF] User profile is available. Using 'C:\Users\kavan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-30 23:18:10.421 +04:30 [INF] Start installing Hangfire SQL objects...
2021-06-30 23:18:10.815 +04:30 [INF] Hangfire SQL objects installed.
2021-06-30 23:18:10.970 +04:30 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@RaimunDbContext'
2021-06-30 23:18:10.972 +04:30 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2021-06-30 23:18:10.973 +04:30 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2021-06-30 23:18:11.369 +04:30 [INF] Server desktop-7hkhhu2:4732:a24f60be successfully announced in 313/648 ms
2021-06-30 23:18:11.384 +04:30 [INF] Server desktop-7hkhhu2:4732:a24f60be is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2021-06-30 23:18:11.459 +04:30 [INF] 3 servers were removed due to timeout
2021-06-30 23:18:11.709 +04:30 [INF] Server desktop-7hkhhu2:4732:a24f60be all the dispatchers started
2021-06-30 23:18:12.697 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 23:18:13.085 +04:30 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 23:18:13.128 +04:30 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 23:18:13.137 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 23:18:13.141 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 23:18:13.177 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-06-30 23:18:13.201 +04:30 [INF] No migrations were applied. The database is already up to date.
2021-06-30 23:18:13.642 +04:30 [INF] Now listening on: https://localhost:5001
2021-06-30 23:18:13.645 +04:30 [INF] Now listening on: http://localhost:5000
2021-06-30 23:18:13.647 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2021-06-30 23:18:13.650 +04:30 [INF] Hosting environment: Development
2021-06-30 23:18:13.653 +04:30 [INF] Content root path: C:\Users\kavan\source\repos\Raimun\WebApi
2021-06-30 23:18:14.862 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-06-30 23:18:15.148 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 286.3862ms
2021-06-30 23:18:15.456 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-06-30 23:18:15.853 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 396.4845ms
2021-06-30 23:18:38.694 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/v1/Waether/Get - -
2021-06-30 23:18:38.874 +04:30 [INF] Executing endpoint 'WebApi.Controllers.WaetherController.Get (WebApi)'
2021-06-30 23:18:38.920 +04:30 [INF] Route matched with {action = "Get", controller = "Waether"}. Executing controller action with signature System.Threading.Tasks.Task`1[WebApi.Configuration.ApiResult`1[WebApi.ViewModels.Location]] Get() on controller WebApi.Controllers.WaetherController (WebApi).
2021-06-30 23:18:38.932 +04:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-06-30 23:18:38.935 +04:30 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2021-06-30 23:18:38.947 +04:30 [INF] Executing ChallengeResult with authentication schemes ([]).
2021-06-30 23:18:42.679 +04:30 [INF] Executed action WebApi.Controllers.WaetherController.Get (WebApi) in 3748.3908ms
2021-06-30 23:18:42.683 +04:30 [INF] Executed endpoint 'WebApi.Controllers.WaetherController.Get (WebApi)'
2021-06-30 23:18:42.686 +04:30 [ERR] An unhandled exception has occurred while executing the request.
WebApi.Exceptions.AppException: You are unauthorized to access this resource.
   at WebApi.Configuration.ServiceCollectionExtensions.<>c.<AddJwtAuthentication>b__1_4(JwtBearerChallengeContext context) in C:\Users\kavan\source\repos\Raimun\WebApi\Configuration\ServiceCollectionExtensions.cs:line 117
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerEvents.Challenge(JwtBearerChallengeContext context)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.ChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Mvc.ChallengeResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|21_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeAlwaysRunResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.ReDoc.ReDocMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-06-30 23:18:42.824 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/v1/Waether/Get - - - 500 - text/plain 4130.6188ms
2021-06-30 23:18:46.587 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 56
2021-06-30 23:18:46.593 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 23:18:46.615 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 23:18:46.750 +04:30 [INF] Executing action method WebApi.Controllers.UserController.Token (WebApi) - Validation state: "Valid"
2021-06-30 23:18:46.810 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 23:18:47.253 +04:30 [INF] Executed DbCommand (36ms) [Parameters=[@__tokenRequest_username_0='?' (Size = 4000), @__tokenRequest_password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Stamp], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[UserName] = @__tokenRequest_username_0) AND ([u].[Password] = @__tokenRequest_password_1)
2021-06-30 23:18:47.346 +04:30 [WRN] متد Token فراخوانی شد توسط
2021-06-30 23:18:47.574 +04:30 [INF] Executed DbCommand (120ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [Stamp] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2021-06-30 23:18:47.874 +04:30 [INF] Executed action method WebApi.Controllers.UserController.Token (WebApi), returned result Microsoft.AspNetCore.Mvc.JsonResult in 1098.7133ms.
2021-06-30 23:18:47.891 +04:30 [INF] Executing JsonResult, writing value of type 'WebApi.Configuration.JWT.AccessToken'.
2021-06-30 23:18:47.925 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 1303.4952ms
2021-06-30 23:18:47.928 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 23:18:47.953 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 56 - 200 - application/json;+charset=utf-8 1365.5592ms
2021-06-30 23:18:50.193 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/v1/Waether/Get - -
2021-06-30 23:18:50.289 +04:30 [INF] Successfully validated the token.
2021-06-30 23:18:50.387 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 23:18:50.432 +04:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Stamp], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2021-06-30 23:18:50.477 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[@__Parse_0='?' (DbType = Guid), @__user_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE ([u].[Stamp] = @__Parse_0) AND ([u].[Id] = @__user_Id_1)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2021-06-30 23:18:50.487 +04:30 [INF] Executing endpoint 'WebApi.Controllers.WaetherController.Get (WebApi)'
2021-06-30 23:18:50.491 +04:30 [INF] Route matched with {action = "Get", controller = "Waether"}. Executing controller action with signature System.Threading.Tasks.Task`1[WebApi.Configuration.ApiResult`1[WebApi.ViewModels.Location]] Get() on controller WebApi.Controllers.WaetherController (WebApi).
2021-06-30 23:18:50.496 +04:30 [INF] Authorization was successful.
2021-06-30 23:18:50.588 +04:30 [INF] Executing action method WebApi.Controllers.WaetherController.Get (WebApi) - Validation state: "Valid"
2021-06-30 23:18:50.593 +04:30 [INF] Executed action method WebApi.Controllers.WaetherController.Get (WebApi), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1.8675ms.
2021-06-30 23:18:50.603 +04:30 [INF] Executing ObjectResult, writing value of type 'WebApi.Configuration.ApiResult`1[[WebApi.ViewModels.Location, WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-06-30 23:18:50.624 +04:30 [INF] Executed action WebApi.Controllers.WaetherController.Get (WebApi) in 128.5389ms
2021-06-30 23:18:50.626 +04:30 [INF] Executed endpoint 'WebApi.Controllers.WaetherController.Get (WebApi)'
2021-06-30 23:18:50.629 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/v1/Waether/Get - - - 200 86 application/json;+charset=utf-8 436.6474ms
2021-06-30 23:30:18.552 +04:30 [INF] Starting up
2021-06-30 23:30:18.865 +04:30 [INF] User profile is available. Using 'C:\Users\kavan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-30 23:30:18.890 +04:30 [INF] Start installing Hangfire SQL objects...
2021-06-30 23:30:19.100 +04:30 [INF] Hangfire SQL objects installed.
2021-06-30 23:30:19.167 +04:30 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@RaimunDbContext'
2021-06-30 23:30:19.169 +04:30 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2021-06-30 23:30:19.171 +04:30 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2021-06-30 23:30:19.367 +04:30 [INF] Server desktop-7hkhhu2:19860:bade2ab3 successfully announced in 182/7397 ms
2021-06-30 23:30:19.372 +04:30 [INF] Server desktop-7hkhhu2:19860:bade2ab3 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2021-06-30 23:30:19.380 +04:30 [INF] 2 servers were removed due to timeout
2021-06-30 23:30:19.383 +04:30 [INF] Server desktop-7hkhhu2:19860:bade2ab3 all the dispatchers started
2021-06-30 23:30:19.777 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 23:30:20.016 +04:30 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 23:30:20.050 +04:30 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 23:30:20.057 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 23:30:20.063 +04:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 23:30:20.088 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-06-30 23:30:20.111 +04:30 [INF] No migrations were applied. The database is already up to date.
2021-06-30 23:30:20.294 +04:30 [INF] Now listening on: https://localhost:5001
2021-06-30 23:30:20.296 +04:30 [INF] Now listening on: http://localhost:5000
2021-06-30 23:30:20.298 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2021-06-30 23:30:20.300 +04:30 [INF] Hosting environment: Development
2021-06-30 23:30:20.301 +04:30 [INF] Content root path: C:\Users\kavan\source\repos\Raimun\WebApi
2021-06-30 23:30:20.822 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-06-30 23:30:20.977 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 404 0 - 154.2706ms
2021-06-30 23:30:35.432 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-06-30 23:30:35.536 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 102.8608ms
2021-06-30 23:30:35.579 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2021-06-30 23:30:35.584 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 3081 application/javascript;+charset=utf-8 4.8876ms
2021-06-30 23:30:35.782 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-06-30 23:30:36.030 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 248.2160ms
2021-06-30 23:30:47.057 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 56
2021-06-30 23:30:47.065 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 23:30:47.107 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 23:30:47.145 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 23:30:47.447 +04:30 [INF] Executed DbCommand (28ms) [Parameters=[@__tokenRequest_username_0='?' (Size = 4000), @__tokenRequest_password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Stamp], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[UserName] = @__tokenRequest_username_0) AND ([u].[Password] = @__tokenRequest_password_1)
2021-06-30 23:30:47.535 +04:30 [WRN] متد Token فراخوانی شد توسط
2021-06-30 23:30:47.632 +04:30 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [Stamp] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2021-06-30 23:30:47.774 +04:30 [INF] Executing JsonResult, writing value of type 'WebApi.Configuration.JWT.AccessToken'.
2021-06-30 23:30:47.798 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 682.6942ms
2021-06-30 23:30:47.802 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 23:30:47.810 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 56 - 200 - application/json;+charset=utf-8 753.1545ms
2021-06-30 23:30:53.644 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/v1/Waether/Get - -
2021-06-30 23:30:53.723 +04:30 [INF] Successfully validated the token.
2021-06-30 23:30:53.765 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 23:30:53.791 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Stamp], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2021-06-30 23:30:53.817 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[@__Parse_0='?' (DbType = Guid), @__user_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE ([u].[Stamp] = @__Parse_0) AND ([u].[Id] = @__user_Id_1)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2021-06-30 23:30:53.833 +04:30 [INF] Executing endpoint 'WebApi.Controllers.WaetherController.Get (WebApi)'
2021-06-30 23:30:53.839 +04:30 [INF] Route matched with {action = "Get", controller = "Waether"}. Executing controller action with signature System.Threading.Tasks.Task`1[WebApi.Configuration.ApiResult`1[WebApi.ViewModels.WeatherViewModel]] Get() on controller WebApi.Controllers.WaetherController (WebApi).
2021-06-30 23:30:53.852 +04:30 [INF] Authorization was successful.
2021-06-30 23:30:53.875 +04:30 [INF] Start processing HTTP request GET "https://api.weatherapi.com/v1/current.json?key=73af81f98c3a4843b1d153217213006&q=Sanandaj&aqi=no"
2021-06-30 23:30:53.879 +04:30 [INF] Sending HTTP request GET "https://api.weatherapi.com/v1/current.json?key=73af81f98c3a4843b1d153217213006&q=Sanandaj&aqi=no"
2021-06-30 23:30:55.392 +04:30 [INF] Received HTTP response headers after 1502.2766ms - 200
2021-06-30 23:30:55.394 +04:30 [INF] End processing HTTP request after 1522.5127ms - 200
2021-06-30 23:30:55.407 +04:30 [INF] Executed action WebApi.Controllers.WaetherController.Get (WebApi) in 1557.989ms
2021-06-30 23:30:55.410 +04:30 [INF] Executed endpoint 'WebApi.Controllers.WaetherController.Get (WebApi)'
2021-06-30 23:30:55.413 +04:30 [ERR] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: The JSON value could not be converted to System.String. Path: $.current.temp_c | LineNumber: 0 | BytePositionInLine: 266.
 ---> System.InvalidOperationException: Cannot get the value of a token type 'Number' as a string.
   at System.Text.Json.Utf8JsonReader.GetString()
   at System.Text.Json.Serialization.Converters.StringConverter.Read(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.JsonPropertyInfo`1.ReadJsonAndSetMember(Object obj, ReadStack& state, Utf8JsonReader& reader)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.JsonPropertyInfo`1.ReadJsonAndSetMember(Object obj, ReadStack& state, Utf8JsonReader& reader)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, Utf8JsonReader& reader, Exception ex)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadCore[TValue](JsonConverter jsonConverter, Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadCore[TValue](JsonReaderState& readerState, Boolean isFinalBlock, ReadOnlySpan`1 buffer, JsonSerializerOptions options, ReadStack& state, JsonConverter converterBase)
   at System.Text.Json.JsonSerializer.ReadAsync[TValue](Stream utf8Json, Type returnType, JsonSerializerOptions options, CancellationToken cancellationToken)
   at System.Net.Http.Json.HttpContentJsonExtensions.ReadFromJsonAsyncCore[T](HttpContent content, Encoding sourceEncoding, JsonSerializerOptions options, CancellationToken cancellationToken)
   at WebApi.Controllers.WaetherController.Get() in C:\Users\kavan\source\repos\Raimun\WebApi\Controllers\WaetherController.cs:line 38
   at lambda_method92(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.ReDoc.ReDocMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-06-30 23:30:55.557 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/v1/Waether/Get - - - 500 - text/plain 1913.6080ms
2021-06-30 23:33:19.230 +04:30 [INF] Starting up
2021-06-30 23:33:19.532 +04:30 [INF] User profile is available. Using 'C:\Users\kavan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-30 23:33:19.558 +04:30 [INF] Start installing Hangfire SQL objects...
2021-06-30 23:33:19.767 +04:30 [INF] Hangfire SQL objects installed.
2021-06-30 23:33:19.835 +04:30 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@RaimunDbContext'
2021-06-30 23:33:19.836 +04:30 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2021-06-30 23:33:19.837 +04:30 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2021-06-30 23:33:20.043 +04:30 [INF] Server desktop-7hkhhu2:22768:70d9e6b2 successfully announced in 190/3144 ms
2021-06-30 23:33:20.048 +04:30 [INF] Server desktop-7hkhhu2:22768:70d9e6b2 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2021-06-30 23:33:20.059 +04:30 [INF] Server desktop-7hkhhu2:22768:70d9e6b2 all the dispatchers started
2021-06-30 23:33:20.450 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 23:33:20.690 +04:30 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 23:33:20.725 +04:30 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 23:33:20.732 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 23:33:20.736 +04:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 23:33:20.761 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-06-30 23:33:20.783 +04:30 [INF] No migrations were applied. The database is already up to date.
2021-06-30 23:33:20.959 +04:30 [INF] Now listening on: https://localhost:5001
2021-06-30 23:33:20.961 +04:30 [INF] Now listening on: http://localhost:5000
2021-06-30 23:33:20.963 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2021-06-30 23:33:20.966 +04:30 [INF] Hosting environment: Development
2021-06-30 23:33:20.967 +04:30 [INF] Content root path: C:\Users\kavan\source\repos\Raimun\WebApi
2021-06-30 23:33:21.448 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-06-30 23:33:21.557 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 404 0 - 109.8959ms
2021-06-30 23:33:23.560 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-06-30 23:33:23.646 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 85.8689ms
2021-06-30 23:33:23.680 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2021-06-30 23:33:23.688 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 3081 application/javascript;+charset=utf-8 8.2480ms
2021-06-30 23:33:23.955 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-06-30 23:33:24.034 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/favicon-32x32.png - -
2021-06-30 23:33:24.054 +04:30 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2021-06-30 23:33:24.061 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/favicon-32x32.png - - - 200 628 image/png 26.4988ms
2021-06-30 23:33:24.159 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 203.8303ms
2021-06-30 23:33:29.376 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 56
2021-06-30 23:33:29.385 +04:30 [INF] Executing endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 23:33:29.479 +04:30 [INF] Route matched with {action = "Token", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Token(WebApi.ViewModels.TokenRequest, System.Threading.CancellationToken) on controller WebApi.Controllers.UserController (WebApi).
2021-06-30 23:33:29.582 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 23:33:29.987 +04:30 [INF] Executed DbCommand (28ms) [Parameters=[@__tokenRequest_username_0='?' (Size = 4000), @__tokenRequest_password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Stamp], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[UserName] = @__tokenRequest_username_0) AND ([u].[Password] = @__tokenRequest_password_1)
2021-06-30 23:33:30.069 +04:30 [WRN] متد Token فراخوانی شد توسط
2021-06-30 23:33:30.281 +04:30 [INF] Executed DbCommand (117ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [Stamp] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2021-06-30 23:33:30.438 +04:30 [INF] Executing JsonResult, writing value of type 'WebApi.Configuration.JWT.AccessToken'.
2021-06-30 23:33:30.462 +04:30 [INF] Executed action WebApi.Controllers.UserController.Token (WebApi) in 974.4858ms
2021-06-30 23:33:30.466 +04:30 [INF] Executed endpoint 'WebApi.Controllers.UserController.Token (WebApi)'
2021-06-30 23:33:30.475 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/api/v1/user/Token application/x-www-form-urlencoded 56 - 200 - application/json;+charset=utf-8 1098.5298ms
2021-06-30 23:33:39.271 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/v1/Waether/Get - -
2021-06-30 23:33:39.356 +04:30 [INF] Successfully validated the token.
2021-06-30 23:33:39.399 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 23:33:39.436 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Stamp], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2021-06-30 23:33:39.468 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[@__Parse_0='?' (DbType = Guid), @__user_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE ([u].[Stamp] = @__Parse_0) AND ([u].[Id] = @__user_Id_1)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2021-06-30 23:33:39.477 +04:30 [INF] Executing endpoint 'WebApi.Controllers.WaetherController.Get (WebApi)'
2021-06-30 23:33:39.483 +04:30 [INF] Route matched with {action = "Get", controller = "Waether"}. Executing controller action with signature System.Threading.Tasks.Task`1[WebApi.Configuration.ApiResult`1[WebApi.ViewModels.WeatherViewModel]] Get() on controller WebApi.Controllers.WaetherController (WebApi).
2021-06-30 23:33:39.494 +04:30 [INF] Authorization was successful.
2021-06-30 23:33:39.505 +04:30 [INF] Start processing HTTP request GET "https://api.weatherapi.com/v1/current.json?key=73af81f98c3a4843b1d153217213006&q=Sanandaj&aqi=no"
2021-06-30 23:33:39.509 +04:30 [INF] Sending HTTP request GET "https://api.weatherapi.com/v1/current.json?key=73af81f98c3a4843b1d153217213006&q=Sanandaj&aqi=no"
2021-06-30 23:33:41.490 +04:30 [INF] Received HTTP response headers after 1978.2763ms - 200
2021-06-30 23:33:41.494 +04:30 [INF] End processing HTTP request after 1989.8038ms - 200
2021-06-30 23:33:41.510 +04:30 [INF] Executed action WebApi.Controllers.WaetherController.Get (WebApi) in 2019.0868ms
2021-06-30 23:33:41.512 +04:30 [INF] Executed endpoint 'WebApi.Controllers.WaetherController.Get (WebApi)'
2021-06-30 23:33:41.515 +04:30 [ERR] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: The JSON value could not be converted to System.Int32. Path: $.current.temp_c | LineNumber: 0 | BytePositionInLine: 266.
 ---> System.FormatException: Either the JSON value is not in a supported format, or is out of bounds for an Int32.
   at System.Text.Json.Utf8JsonReader.GetInt32()
   at System.Text.Json.Serialization.Converters.Int32Converter.ReadNumberWithCustomHandling(Utf8JsonReader& reader, JsonNumberHandling handling)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.JsonPropertyInfo`1.ReadJsonAndSetMember(Object obj, ReadStack& state, Utf8JsonReader& reader)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.JsonPropertyInfo`1.ReadJsonAndSetMember(Object obj, ReadStack& state, Utf8JsonReader& reader)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, Utf8JsonReader& reader, Exception ex)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadCore[TValue](JsonConverter jsonConverter, Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadCore[TValue](JsonReaderState& readerState, Boolean isFinalBlock, ReadOnlySpan`1 buffer, JsonSerializerOptions options, ReadStack& state, JsonConverter converterBase)
   at System.Text.Json.JsonSerializer.ReadAsync[TValue](Stream utf8Json, Type returnType, JsonSerializerOptions options, CancellationToken cancellationToken)
   at System.Net.Http.Json.HttpContentJsonExtensions.ReadFromJsonAsyncCore[T](HttpContent content, Encoding sourceEncoding, JsonSerializerOptions options, CancellationToken cancellationToken)
   at WebApi.Controllers.WaetherController.Get() in C:\Users\kavan\source\repos\Raimun\WebApi\Controllers\WaetherController.cs:line 38
   at lambda_method92(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.ReDoc.ReDocMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-06-30 23:33:41.630 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/v1/Waether/Get - - - 500 - text/plain 2358.8574ms
2021-06-30 23:34:06.132 +04:30 [INF] Application is shutting down...
2021-06-30 23:34:06.143 +04:30 [INF] Server desktop-7hkhhu2:22768:70d9e6b2 caught stopping signal...
2021-06-30 23:34:06.150 +04:30 [INF] Server desktop-7hkhhu2:22768:70d9e6b2 caught stopped signal...
2021-06-30 23:34:07.174 +04:30 [INF] Server desktop-7hkhhu2:22768:70d9e6b2 All dispatchers stopped
2021-06-30 23:34:07.181 +04:30 [INF] Server desktop-7hkhhu2:22768:70d9e6b2 successfully reported itself as stopped in 4/2077 ms
2021-06-30 23:34:07.183 +04:30 [INF] Server desktop-7hkhhu2:22768:70d9e6b2 has been stopped in total 1032/7798 ms
2021-06-30 23:34:12.139 +04:30 [INF] Starting up
2021-06-30 23:34:12.451 +04:30 [INF] User profile is available. Using 'C:\Users\kavan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-30 23:34:12.476 +04:30 [INF] Start installing Hangfire SQL objects...
2021-06-30 23:34:12.699 +04:30 [INF] Hangfire SQL objects installed.
2021-06-30 23:34:12.767 +04:30 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@RaimunDbContext'
2021-06-30 23:34:12.768 +04:30 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2021-06-30 23:34:12.769 +04:30 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2021-06-30 23:34:12.958 +04:30 [INF] Server desktop-7hkhhu2:23668:82e8d5eb successfully announced in 175/9209 ms
2021-06-30 23:34:12.963 +04:30 [INF] Server desktop-7hkhhu2:23668:82e8d5eb is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2021-06-30 23:34:12.972 +04:30 [INF] Server desktop-7hkhhu2:23668:82e8d5eb all the dispatchers started
2021-06-30 23:34:13.362 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 23:34:13.607 +04:30 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 23:34:13.642 +04:30 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 23:34:13.649 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 23:34:13.654 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 23:34:13.680 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-06-30 23:34:13.702 +04:30 [INF] No migrations were applied. The database is already up to date.
2021-06-30 23:34:13.924 +04:30 [INF] Now listening on: https://localhost:5001
2021-06-30 23:34:13.926 +04:30 [INF] Now listening on: http://localhost:5000
2021-06-30 23:34:13.928 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2021-06-30 23:34:13.930 +04:30 [INF] Hosting environment: Development
2021-06-30 23:34:13.932 +04:30 [INF] Content root path: C:\Users\kavan\source\repos\Raimun\WebApi
2021-06-30 23:34:14.407 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-06-30 23:34:14.533 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 404 0 - 125.9484ms
2021-06-30 23:34:18.581 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/api/v1/Waether/Get - -
2021-06-30 23:34:18.765 +04:30 [INF] Successfully validated the token.
2021-06-30 23:34:18.777 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 23:34:19.304 +04:30 [INF] Executed DbCommand (41ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[FirstName], [u].[LastName], [u].[Password], [u].[Stamp], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2021-06-30 23:34:19.430 +04:30 [INF] Executed DbCommand (3ms) [Parameters=[@__Parse_0='?' (DbType = Guid), @__user_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE ([u].[Stamp] = @__Parse_0) AND ([u].[Id] = @__user_Id_1)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2021-06-30 23:34:19.444 +04:30 [INF] Executing endpoint 'WebApi.Controllers.WaetherController.Get (WebApi)'
2021-06-30 23:34:19.512 +04:30 [INF] Route matched with {action = "Get", controller = "Waether"}. Executing controller action with signature System.Threading.Tasks.Task`1[WebApi.Configuration.ApiResult`1[WebApi.ViewModels.WeatherViewModel]] Get() on controller WebApi.Controllers.WaetherController (WebApi).
2021-06-30 23:34:19.535 +04:30 [INF] Authorization was successful.
2021-06-30 23:34:19.555 +04:30 [INF] Start processing HTTP request GET "https://api.weatherapi.com/v1/current.json?key=73af81f98c3a4843b1d153217213006&q=Sanandaj&aqi=no"
2021-06-30 23:34:19.561 +04:30 [INF] Sending HTTP request GET "https://api.weatherapi.com/v1/current.json?key=73af81f98c3a4843b1d153217213006&q=Sanandaj&aqi=no"
2021-06-30 23:34:20.868 +04:30 [INF] Received HTTP response headers after 1303.4063ms - 200
2021-06-30 23:34:20.871 +04:30 [INF] End processing HTTP request after 1320.9254ms - 200
2021-06-30 23:34:20.914 +04:30 [INF] Executing ObjectResult, writing value of type 'WebApi.Configuration.ApiResult`1[[WebApi.ViewModels.WeatherViewModel, WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-06-30 23:34:20.956 +04:30 [INF] Executed action WebApi.Controllers.WaetherController.Get (WebApi) in 1423.3059ms
2021-06-30 23:34:20.959 +04:30 [INF] Executed endpoint 'WebApi.Controllers.WaetherController.Get (WebApi)'
2021-06-30 23:34:20.966 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/api/v1/Waether/Get - - - 200 127 application/json;+charset=utf-8 2384.8319ms
2021-06-30 23:35:21.834 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire - -
2021-06-30 23:35:21.970 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire - - - 200 - text/html 136.3624ms
2021-06-30 23:35:22.006 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/js17240 - -
2021-06-30 23:35:22.006 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/css17240 - -
2021-06-30 23:35:22.006 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2021-06-30 23:35:22.026 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 3081 application/javascript;+charset=utf-8 19.6726ms
2021-06-30 23:35:22.040 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/css17240 - - - 200 - text/css 33.8137ms
2021-06-30 23:35:22.067 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/js17240 - - - 200 - application/javascript 61.2586ms
2021-06-30 23:35:22.089 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/fonts/glyphicons-halflings-regular/woff2 - -
2021-06-30 23:35:22.094 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/fonts/glyphicons-halflings-regular/woff2 - - - 200 - font/woff2 5.1365ms
2021-06-30 23:35:23.792 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/jobs/enqueued - -
2021-06-30 23:35:23.819 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/jobs/enqueued - - - 200 - text/html 27.0797ms
2021-06-30 23:35:23.851 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/css17240 - -
2021-06-30 23:35:23.852 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/js17240 - -
2021-06-30 23:35:23.852 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2021-06-30 23:35:23.857 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/css17240 - - - 200 - text/css 5.5875ms
2021-06-30 23:35:23.862 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/js17240 - - - 200 - application/javascript 9.8458ms
2021-06-30 23:35:23.869 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 3081 application/javascript;+charset=utf-8 15.9895ms
2021-06-30 23:35:23.906 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/fonts/glyphicons-halflings-regular/woff2 - -
2021-06-30 23:35:23.910 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/fonts/glyphicons-halflings-regular/woff2 - - - 200 - font/woff2 3.9469ms
2021-06-30 23:35:24.617 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/retries - -
2021-06-30 23:35:24.685 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/retries - - - 200 - text/html 67.8734ms
2021-06-30 23:35:24.718 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/css17240 - -
2021-06-30 23:35:24.719 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/js17240 - -
2021-06-30 23:35:24.719 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2021-06-30 23:35:24.724 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/css17240 - - - 200 - text/css 5.5232ms
2021-06-30 23:35:24.734 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 3081 application/javascript;+charset=utf-8 15.0496ms
2021-06-30 23:35:24.735 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/js17240 - - - 200 - application/javascript 15.9539ms
2021-06-30 23:35:24.760 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/fonts/glyphicons-halflings-regular/woff2 - -
2021-06-30 23:35:24.764 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/fonts/glyphicons-halflings-regular/woff2 - - - 200 - font/woff2 4.5675ms
2021-06-30 23:35:25.329 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/recurring - -
2021-06-30 23:35:25.366 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/recurring - - - 200 - text/html 36.6271ms
2021-06-30 23:35:25.398 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/css17240 - -
2021-06-30 23:35:25.399 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/js17240 - -
2021-06-30 23:35:25.399 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2021-06-30 23:35:25.404 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/css17240 - - - 200 - text/css 5.5044ms
2021-06-30 23:35:25.409 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 3081 application/javascript;+charset=utf-8 9.4545ms
2021-06-30 23:35:25.414 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/js17240 - - - 200 - application/javascript 15.4544ms
2021-06-30 23:35:25.434 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/fonts/glyphicons-halflings-regular/woff2 - -
2021-06-30 23:35:25.437 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/fonts/glyphicons-halflings-regular/woff2 - - - 200 - font/woff2 2.7454ms
2021-06-30 23:35:26.118 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/servers - -
2021-06-30 23:35:26.199 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/servers - - - 200 - text/html 81.1455ms
2021-06-30 23:35:26.236 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/css17240 - -
2021-06-30 23:35:26.240 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2021-06-30 23:35:26.236 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/js17240 - -
2021-06-30 23:35:26.248 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/css17240 - - - 200 - text/css 11.8948ms
2021-06-30 23:35:26.252 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 3081 application/javascript;+charset=utf-8 11.0321ms
2021-06-30 23:35:26.271 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/js17240 - - - 200 - application/javascript 34.2290ms
2021-06-30 23:35:26.316 +04:30 [INF] Request starting HTTP/2 GET https://localhost:5001/hangfire/fonts/glyphicons-halflings-regular/woff2 - -
2021-06-30 23:35:26.325 +04:30 [INF] Request finished HTTP/2 GET https://localhost:5001/hangfire/fonts/glyphicons-halflings-regular/woff2 - - - 200 - font/woff2 7.9813ms
2021-06-30 23:35:28.428 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/hangfire/stats application/x-www-form-urlencoded;+charset=UTF-8 167
2021-06-30 23:35:28.467 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/hangfire/stats application/x-www-form-urlencoded;+charset=UTF-8 167 - 200 - application/json 39.4118ms
2021-06-30 23:35:30.477 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/hangfire/stats application/x-www-form-urlencoded;+charset=UTF-8 167
2021-06-30 23:35:30.499 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/hangfire/stats application/x-www-form-urlencoded;+charset=UTF-8 167 - 200 - application/json 21.3927ms
2021-06-30 23:35:33.325 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/hangfire/stats application/x-www-form-urlencoded;+charset=UTF-8 167
2021-06-30 23:35:33.354 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/hangfire/stats application/x-www-form-urlencoded;+charset=UTF-8 167 - 200 - application/json 29.4486ms
2021-06-30 23:35:36.324 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/hangfire/stats application/x-www-form-urlencoded;+charset=UTF-8 167
2021-06-30 23:35:36.337 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/hangfire/stats application/x-www-form-urlencoded;+charset=UTF-8 167 - 200 - application/json 12.9845ms
2021-06-30 23:35:39.318 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/hangfire/stats application/x-www-form-urlencoded;+charset=UTF-8 167
2021-06-30 23:35:39.331 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/hangfire/stats application/x-www-form-urlencoded;+charset=UTF-8 167 - 200 - application/json 13.0517ms
2021-06-30 23:35:42.311 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/hangfire/stats application/x-www-form-urlencoded;+charset=UTF-8 167
2021-06-30 23:35:42.325 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/hangfire/stats application/x-www-form-urlencoded;+charset=UTF-8 167 - 200 - application/json 14.2362ms
2021-06-30 23:35:45.319 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/hangfire/stats application/x-www-form-urlencoded;+charset=UTF-8 167
2021-06-30 23:35:45.333 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/hangfire/stats application/x-www-form-urlencoded;+charset=UTF-8 167 - 200 - application/json 13.9937ms
2021-06-30 23:35:48.315 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/hangfire/stats application/x-www-form-urlencoded;+charset=UTF-8 167
2021-06-30 23:35:48.328 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/hangfire/stats application/x-www-form-urlencoded;+charset=UTF-8 167 - 200 - application/json 13.1095ms
2021-06-30 23:35:51.315 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/hangfire/stats application/x-www-form-urlencoded;+charset=UTF-8 167
2021-06-30 23:35:51.355 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/hangfire/stats application/x-www-form-urlencoded;+charset=UTF-8 167 - 200 - application/json 40.3322ms
2021-06-30 23:35:53.366 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/hangfire/stats application/x-www-form-urlencoded;+charset=UTF-8 167
2021-06-30 23:35:53.384 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/hangfire/stats application/x-www-form-urlencoded;+charset=UTF-8 167 - 200 - application/json 17.4031ms
2021-06-30 23:35:56.315 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/hangfire/stats application/x-www-form-urlencoded;+charset=UTF-8 167
2021-06-30 23:35:56.330 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/hangfire/stats application/x-www-form-urlencoded;+charset=UTF-8 167 - 200 - application/json 14.4841ms
2021-06-30 23:35:59.324 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/hangfire/stats application/x-www-form-urlencoded;+charset=UTF-8 167
2021-06-30 23:35:59.340 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/hangfire/stats application/x-www-form-urlencoded;+charset=UTF-8 167 - 200 - application/json 16.6063ms
2021-06-30 23:36:02.320 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/hangfire/stats application/x-www-form-urlencoded;+charset=UTF-8 167
2021-06-30 23:36:02.332 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/hangfire/stats application/x-www-form-urlencoded;+charset=UTF-8 167 - 200 - application/json 12.3539ms
2021-06-30 23:36:05.318 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/hangfire/stats application/x-www-form-urlencoded;+charset=UTF-8 167
2021-06-30 23:36:05.351 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/hangfire/stats application/x-www-form-urlencoded;+charset=UTF-8 167 - 200 - application/json 32.3143ms
2021-06-30 23:36:08.311 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/hangfire/stats application/x-www-form-urlencoded;+charset=UTF-8 167
2021-06-30 23:36:08.325 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/hangfire/stats application/x-www-form-urlencoded;+charset=UTF-8 167 - 200 - application/json 14.0899ms
2021-06-30 23:36:11.321 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/hangfire/stats application/x-www-form-urlencoded;+charset=UTF-8 167
2021-06-30 23:36:11.334 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/hangfire/stats application/x-www-form-urlencoded;+charset=UTF-8 167 - 200 - application/json 13.1132ms
2021-06-30 23:36:14.324 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/hangfire/stats application/x-www-form-urlencoded;+charset=UTF-8 167
2021-06-30 23:36:14.341 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/hangfire/stats application/x-www-form-urlencoded;+charset=UTF-8 167 - 200 - application/json 17.7806ms
2021-06-30 23:36:17.316 +04:30 [INF] Request starting HTTP/2 POST https://localhost:5001/hangfire/stats application/x-www-form-urlencoded;+charset=UTF-8 167
2021-06-30 23:36:17.329 +04:30 [INF] Request finished HTTP/2 POST https://localhost:5001/hangfire/stats application/x-www-form-urlencoded;+charset=UTF-8 167 - 200 - application/json 12.7536ms
2021-06-30 23:36:23.948 +04:30 [INF] Starting up
2021-06-30 23:36:24.338 +04:30 [INF] User profile is available. Using 'C:\Users\kavan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-06-30 23:36:24.388 +04:30 [INF] Start installing Hangfire SQL objects...
2021-06-30 23:36:24.737 +04:30 [INF] Hangfire SQL objects installed.
2021-06-30 23:36:24.817 +04:30 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@RaimunDbContext'
2021-06-30 23:36:24.819 +04:30 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2021-06-30 23:36:24.820 +04:30 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2021-06-30 23:36:25.038 +04:30 [INF] Server desktop-7hkhhu2:26924:13feac8f successfully announced in 204/0743 ms
2021-06-30 23:36:25.044 +04:30 [INF] Server desktop-7hkhhu2:26924:13feac8f is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2021-06-30 23:36:25.051 +04:30 [INF] 1 servers were removed due to timeout
2021-06-30 23:36:25.057 +04:30 [INF] Server desktop-7hkhhu2:26924:13feac8f all the dispatchers started
2021-06-30 23:36:25.659 +04:30 [INF] Application is shutting down...
2021-06-30 23:36:25.662 +04:30 [INF] Entity Framework Core 5.0.7 initialized 'RaimunDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-06-30 23:36:25.923 +04:30 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 23:36:25.959 +04:30 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 23:36:25.967 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-06-30 23:36:25.971 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-06-30 23:36:25.998 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-06-30 23:36:26.018 +04:30 [INF] No migrations were applied. The database is already up to date.
2021-06-30 23:36:26.132 +04:30 [FTL] Unable to start Kestrel.
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
2021-06-30 23:36:26.150 +04:30 [INF] Server desktop-7hkhhu2:26924:13feac8f caught stopping signal...
2021-06-30 23:36:26.154 +04:30 [INF] Server desktop-7hkhhu2:26924:13feac8f caught stopped signal...
2021-06-30 23:36:27.185 +04:30 [INF] Server desktop-7hkhhu2:26924:13feac8f All dispatchers stopped
2021-06-30 23:36:27.196 +04:30 [INF] Server desktop-7hkhhu2:26924:13feac8f successfully reported itself as stopped in 6/873 ms
2021-06-30 23:36:27.198 +04:30 [INF] Server desktop-7hkhhu2:26924:13feac8f has been stopped in total 1043/8718 ms
